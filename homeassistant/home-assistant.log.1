2025-11-03 18:41:36.436 ERROR (MainThread) [habluetooth.manager] Missing required permissions for Bluetooth management: Missing NET_ADMIN/NET_RAW capabilities for Bluetooth management. Automatic adapter recovery is unavailable. Add NET_ADMIN and NET_RAW capabilities to the container to enable it
2025-11-03 18:42:15.213 WARNING (MainThread) [homeassistant.helpers.translation] Failed to load integration for translation: Invalid domain energy.sensor
2025-11-03 18:42:15.220 WARNING (MainThread) [homeassistant.helpers.translation] Failed to load integration for translation: Invalid domain sun.sensor
2025-11-03 18:42:15.221 WARNING (MainThread) [homeassistant.helpers.translation] Failed to load integration for translation: Invalid domain backup.event
2025-11-03 18:42:15.221 WARNING (MainThread) [homeassistant.helpers.translation] Failed to load integration for translation: Invalid domain sun.binary_sensor
2025-11-03 18:42:15.222 WARNING (MainThread) [homeassistant.helpers.translation] Failed to load integration for translation: Invalid domain mobile_app.notify
2025-11-03 18:42:15.222 WARNING (MainThread) [homeassistant.helpers.translation] Failed to load integration for translation: Invalid domain backup.sensor
2025-11-03 18:42:15.223 WARNING (MainThread) [homeassistant.helpers.translation] Failed to load integration for translation: Invalid domain homeassistant.scene
2025-11-03 18:42:15.223 WARNING (MainThread) [homeassistant.helpers.translation] Failed to load integration for translation: Invalid domain cloud.tts
2025-11-03 18:43:35.294 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 254 seconds
2025-11-03 18:43:35.299 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 43, 35, 299085, tzinfo=datetime.timezone.utc), priority=<PacketPriority.NORMAL: 0>, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.Broadcast: 15>, address=<BroadcastAddress.ALL_ROUTERS_AND_COORDINATOR: 65532>), dst_ep=0, source_route=None, extended_timeout=False, tsn=2, profile_id=0, cluster_id=<ZDOCmd.Mgmt_Permit_Joining_req: 0x0036>, data=Serialized[b'\x02\xfe\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:43:35.309 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=254, TCSignificance=0)
2025-11-03 18:43:35.340 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:43:35.346 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2025-11-03 18:43:35.354 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MsgCbIncoming.Callback(Src=0x0000, IsBroadcast=<Bool.false: 0>, ClusterId=32822, SecurityUse=0, TSN=3, MacDst=0x0000, Data=b'\x00')
2025-11-03 18:43:35.364 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), DstEndpoint=0, DstPanId=0x0000, SrcEndpoint=0, ClusterId=54, TSN=2, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x02\xFE\x00')
2025-11-03 18:43:35.375 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 43, 35, 374639, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=0, source_route=None, extended_timeout=False, tsn=3, profile_id=0, cluster_id=32822, data=Serialized[b'\x03\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:43:35.380 DEBUG (MainThread) [zigpy.zdo] [0x0000:zdo] ZDO request ZDOCmd.Mgmt_Permit_Joining_rsp: [<Status.SUCCESS: 0>]
2025-11-03 18:43:35.381 DEBUG (MainThread) [zigpy.zdo] [0x0000:zdo] No handler for ZDO request:ZDOCmd.Mgmt_Permit_Joining_rsp([<Status.SUCCESS: 0>])
2025-11-03 18:43:35.387 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:43:45.216 DEBUG (MainThread) [zigpy.application] Feeding watchdog
2025-11-03 18:43:45.217 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2025-11-03 18:43:45.232 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.SYS|AF|ZDO|UTIL|GP|APP_CNF: 1625>)
2025-11-03 18:43:50.861 DEBUG (MainThread) [zha.decorators] [<Task pending name='global-updater_GlobalUpdater' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::GlobalUpdater.update_listeners]
2025-11-03 18:43:50.866 DEBUG (MainThread) [zha.application.helpers] Global updater interval starting
2025-11-03 18:43:50.866 DEBUG (MainThread) [zha.application.helpers] Global updater interval finished
2025-11-03 18:44:05.864 DEBUG (MainThread) [zha.decorators] [<Task pending name='device-availability-checker_DeviceAvailabilityChecker' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::DeviceAvailabilityChecker.check_device_availability]
2025-11-03 18:44:05.865 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval starting
2025-11-03 18:44:05.865 DEBUG (MainThread) [zha.application.helpers] Checking device availability
2025-11-03 18:44:05.866 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval finished
2025-11-03 18:44:15.240 DEBUG (MainThread) [zigpy.application] Feeding watchdog
2025-11-03 18:44:15.242 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2025-11-03 18:44:15.250 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.SYS|AF|ZDO|UTIL|GP|APP_CNF: 1625>)
2025-11-03 18:44:20.869 DEBUG (MainThread) [zha.decorators] [<Task pending name='global-updater_GlobalUpdater' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::GlobalUpdater.update_listeners]
2025-11-03 18:44:20.870 DEBUG (MainThread) [zha.application.helpers] Global updater interval starting
2025-11-03 18:44:20.871 DEBUG (MainThread) [zha.application.helpers] Global updater interval finished
2025-11-03 18:44:40.867 DEBUG (MainThread) [zha.decorators] [<Task pending name='device-availability-checker_DeviceAvailabilityChecker' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::DeviceAvailabilityChecker.check_device_availability]
2025-11-03 18:44:40.868 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval starting
2025-11-03 18:44:40.868 DEBUG (MainThread) [zha.application.helpers] Checking device availability
2025-11-03 18:44:40.869 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval finished
2025-11-03 18:44:45.253 DEBUG (MainThread) [zigpy.application] Feeding watchdog
2025-11-03 18:44:45.254 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2025-11-03 18:44:45.263 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.SYS|AF|ZDO|UTIL|GP|APP_CNF: 1625>)
2025-11-03 18:44:50.872 DEBUG (MainThread) [zha.decorators] [<Task pending name='global-updater_GlobalUpdater' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::GlobalUpdater.update_listeners]
2025-11-03 18:44:50.874 DEBUG (MainThread) [zha.application.helpers] Global updater interval starting
2025-11-03 18:44:50.874 DEBUG (MainThread) [zha.application.helpers] Global updater interval finished
2025-11-03 18:45:15.264 DEBUG (MainThread) [zigpy.application] Feeding watchdog
2025-11-03 18:45:15.265 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2025-11-03 18:45:15.272 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.SYS|AF|ZDO|UTIL|GP|APP_CNF: 1625>)
2025-11-03 18:45:15.870 DEBUG (MainThread) [zha.decorators] [<Task pending name='device-availability-checker_DeviceAvailabilityChecker' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::DeviceAvailabilityChecker.check_device_availability]
2025-11-03 18:45:15.871 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval starting
2025-11-03 18:45:15.872 DEBUG (MainThread) [zha.application.helpers] Checking device availability
2025-11-03 18:45:15.872 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval finished
2025-11-03 18:45:20.875 DEBUG (MainThread) [zha.decorators] [<Task pending name='global-updater_GlobalUpdater' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::GlobalUpdater.update_listeners]
2025-11-03 18:45:20.876 DEBUG (MainThread) [zha.application.helpers] Global updater interval starting
2025-11-03 18:45:20.876 DEBUG (MainThread) [zha.application.helpers] Global updater interval finished
2025-11-03 18:45:34.101 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.TCDevInd.Callback(SrcNwk=0x4252, SrcIEEE=70:b3:d5:2b:60:05:9b:d5, ParentNwk=0x0000)
2025-11-03 18:45:34.105 INFO (MainThread) [zigpy_znp.zigbee.application] TC device join: ZDO.TCDevInd.Callback(SrcNwk=0x4252, SrcIEEE=70:b3:d5:2b:60:05:9b:d5, ParentNwk=0x0000)
2025-11-03 18:45:34.109 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteDisc.Req(Dst=0x4252, Options=<RouteDiscoveryOptions.UNICAST: 0>, Radius=30)
2025-11-03 18:45:34.124 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteDisc.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:34.204 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.EndDeviceAnnceInd.Callback(Src=0x4252, NWK=0x4252, IEEE=70:b3:d5:2b:60:05:9b:d5, Capabilities=<MACCapabilities.Router|MainsPowered|RXWhenIdle|AllocateShortAddrDuringAssocNeeded: 142>)
2025-11-03 18:45:34.209 DEBUG (MainThread) [zigpy_znp.api] Command was not handled
2025-11-03 18:45:34.210 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MsgCbIncoming.Callback(Src=0x4252, IsBroadcast=<Bool.true: 1>, ClusterId=19, SecurityUse=0, TSN=1, MacDst=0xFFFF, Data=b'\x52\x42\xD5\x9B\x05\x60\x2B\xD5\xB3\x70\x8E')
2025-11-03 18:45:34.212 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 212320, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.Broadcast: 15>, address=<BroadcastAddress.ALL_ROUTERS_AND_COORDINATOR: 65532>), dst_ep=0, source_route=None, extended_timeout=False, tsn=1, profile_id=0, cluster_id=19, data=Serialized[b'\x01RB\xd5\x9b\x05`+\xd5\xb3p\x8e'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:34.221 INFO (MainThread) [zigpy.application] New device 0x4252 (70:b3:d5:2b:60:05:9b:d5) joined the network
2025-11-03 18:45:34.222 DEBUG (MainThread) [zha] Emitting event device_joined with data DeviceJoinedEvent(device_info=DeviceJoinedDeviceInfo(ieee=70:b3:d5:2b:60:05:9b:d5, nwk=0x4252, pairing_status=<DevicePairingStatus.PAIRED: 1>), event_type='zha_gateway_message', event='device_joined') (1 listeners)
2025-11-03 18:45:34.222 DEBUG (MainThread) [zha] (ZHAGatewayProxy) handling event protocol for event: DeviceJoinedEvent(device_info=DeviceJoinedDeviceInfo(ieee=70:b3:d5:2b:60:05:9b:d5, nwk=0x4252, pairing_status=<DevicePairingStatus.PAIRED: 1>), event_type='zha_gateway_message', event='device_joined')
2025-11-03 18:45:34.223 DEBUG (MainThread) [zigpy.device] [0x4252] Scheduling initialization
2025-11-03 18:45:34.232 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x4252 ieee=70:b3:d5:2b:60:05:9b:d5 is_initialized=False> from ep 0 to ep 0, cluster 19: Serialized[b'\x01RB\xd5\x9b\x05`+\xd5\xb3p\x8e']
2025-11-03 18:45:34.233 DEBUG (MainThread) [zigpy.zdo] [0x4252:zdo] ZDO request ZDOCmd.Device_annce: [0x4252, 70:b3:d5:2b:60:05:9b:d5, 142]
2025-11-03 18:45:34.235 DEBUG (MainThread) [zigpy.util] Tries remaining: 5
2025-11-03 18:45:34.236 INFO (MainThread) [zigpy.device] [0x4252] Requesting 'Node Descriptor'
2025-11-03 18:45:34.236 DEBUG (MainThread) [zigpy.device] [0x4252] Extending timeout for 0x01 request
2025-11-03 18:45:34.237 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:45:34.240 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 240563, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=0, source_route=None, extended_timeout=True, tsn=1, profile_id=0, cluster_id=<ZDOCmd.Node_Desc_req: 0x0002>, data=Serialized[b'\x01RB'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:34.241 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:45:34.242 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x4252, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.MTO_ROUTE|NO_ROUTE_CACHE: 3>)
2025-11-03 18:45:34.258 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2025-11-03 18:45:34.266 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=0, DstPanId=0x0000, SrcEndpoint=0, ClusterId=2, TSN=1, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x01\x52\x42')
2025-11-03 18:45:34.282 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:34.390 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescRsp.Callback(Src=0x4252, Status=<Status.SUCCESS: 0>, NWK=0x4252, NodeDescriptor=NullableNodeDescriptor(logical_type=<LogicalType.Router: 1>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.FullFunctionDevice|MainsPowered|RxOnWhenIdle|AllocateAddress: 142>, manufacturer_code=4660, maximum_buffer_size=108, maximum_incoming_transfer_size=0, server_mask=11264, maximum_outgoing_transfer_size=0, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=False, *is_full_function_device=True, *is_mains_powered=True, *is_receiver_on_when_idle=True, *is_router=True, *is_security_capable=False))
2025-11-03 18:45:34.396 DEBUG (MainThread) [zigpy_znp.api] Command was not handled
2025-11-03 18:45:34.398 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MsgCbIncoming.Callback(Src=0x4252, IsBroadcast=<Bool.false: 0>, ClusterId=32770, SecurityUse=0, TSN=1, MacDst=0x0000, Data=b'\x00\x52\x42\x01\x40\x8E\x34\x12\x6C\x00\x00\x00\x2C\x00\x00\x00')
2025-11-03 18:45:34.402 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 400682, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=0, source_route=None, extended_timeout=False, tsn=1, profile_id=0, cluster_id=32770, data=Serialized[b'\x01\x00RB\x01@\x8e4\x12l\x00\x00\x00,\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:34.410 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x4252 ieee=70:b3:d5:2b:60:05:9b:d5 is_initialized=False> from ep 0 to ep 0, cluster 32770: Serialized[b'\x01\x00RB\x01@\x8e4\x12l\x00\x00\x00,\x00\x00\x00']
2025-11-03 18:45:34.414 INFO (MainThread) [zigpy.device] [0x4252] Got Node Descriptor: NodeDescriptor(logical_type=<LogicalType.Router: 1>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.FullFunctionDevice|MainsPowered|RxOnWhenIdle|AllocateAddress: 142>, manufacturer_code=4660, maximum_buffer_size=108, maximum_incoming_transfer_size=0, server_mask=11264, maximum_outgoing_transfer_size=0, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=False, *is_full_function_device=True, *is_mains_powered=True, *is_receiver_on_when_idle=True, *is_router=True, *is_security_capable=False)
2025-11-03 18:45:34.417 INFO (MainThread) [zigpy.device] [0x4252] Discovering endpoints
2025-11-03 18:45:34.418 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:45:34.419 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 419799, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=0, source_route=None, extended_timeout=False, tsn=2, profile_id=0, cluster_id=<ZDOCmd.Active_EP_req: 0x0005>, data=Serialized[b'\x02RB'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:34.420 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:45:34.421 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x4252, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.MTO_ROUTE|NO_ROUTE_CACHE: 3>)
2025-11-03 18:45:34.433 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2025-11-03 18:45:34.436 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=0, DstPanId=0x0000, SrcEndpoint=0, ClusterId=5, TSN=2, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x02\x52\x42')
2025-11-03 18:45:34.452 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:34.491 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpRsp.Callback(Src=0x4252, Status=<Status.SUCCESS: 0>, NWK=0x4252, ActiveEndpoints=[1])
2025-11-03 18:45:34.532 DEBUG (MainThread) [zigpy_znp.api] Command was not handled
2025-11-03 18:45:34.534 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MsgCbIncoming.Callback(Src=0x4252, IsBroadcast=<Bool.false: 0>, ClusterId=32773, SecurityUse=0, TSN=2, MacDst=0x0000, Data=b'\x00\x52\x42\x01\x01')
2025-11-03 18:45:34.540 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 540429, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=0, source_route=None, extended_timeout=False, tsn=2, profile_id=0, cluster_id=32773, data=Serialized[b'\x02\x00RB\x01\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:34.542 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x4252 ieee=70:b3:d5:2b:60:05:9b:d5 is_initialized=False> from ep 0 to ep 0, cluster 32773: Serialized[b'\x02\x00RB\x01\x01']
2025-11-03 18:45:34.548 INFO (MainThread) [zigpy.device] [0x4252] Discovered endpoints: [1]
2025-11-03 18:45:34.548 INFO (MainThread) [zigpy.device] [0x4252] Initializing endpoints [<Endpoint id=1 in=[] out=[] status=<Status.NEW: 0>>]
2025-11-03 18:45:34.549 INFO (MainThread) [zigpy.endpoint] [0x4252:1] Discovering endpoint information
2025-11-03 18:45:34.550 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:45:34.550 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 550589, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=0, source_route=None, extended_timeout=False, tsn=3, profile_id=0, cluster_id=<ZDOCmd.Simple_Desc_req: 0x0004>, data=Serialized[b'\x03RB\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:34.551 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:45:34.552 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x4252, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.MTO_ROUTE|NO_ROUTE_CACHE: 3>)
2025-11-03 18:45:34.562 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2025-11-03 18:45:34.565 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=0, DstPanId=0x0000, SrcEndpoint=0, ClusterId=4, TSN=3, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x03\x52\x42\x01')
2025-11-03 18:45:34.578 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:34.655 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescRsp.Callback(Src=0x4252, Status=<Status.SUCCESS: 0>, NWK=0x4252, SimpleDescriptor=SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=81, device_version=1, input_clusters=[0, 6, 3, 4, 5, 57345, 2820, 1794], output_clusters=[]))
2025-11-03 18:45:34.662 DEBUG (MainThread) [zigpy_znp.api] Command was not handled
2025-11-03 18:45:34.665 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MsgCbIncoming.Callback(Src=0x4252, IsBroadcast=<Bool.false: 0>, ClusterId=32772, SecurityUse=0, TSN=3, MacDst=0x0000, Data=b'\x00\x52\x42\x18\x01\x04\x01\x51\x00\x01\x08\x00\x00\x06\x00\x03\x00\x04\x00\x05\x00\x01\xE0\x04\x0B\x02\x07\x00')
2025-11-03 18:45:34.668 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 667257, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=0, source_route=None, extended_timeout=False, tsn=3, profile_id=0, cluster_id=32772, data=Serialized[b'\x03\x00RB\x18\x01\x04\x01Q\x00\x01\x08\x00\x00\x06\x00\x03\x00\x04\x00\x05\x00\x01\xe0\x04\x0b\x02\x07\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:34.670 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x4252 ieee=70:b3:d5:2b:60:05:9b:d5 is_initialized=False> from ep 0 to ep 0, cluster 32772: Serialized[b'\x03\x00RB\x18\x01\x04\x01Q\x00\x01\x08\x00\x00\x06\x00\x03\x00\x04\x00\x05\x00\x01\xe0\x04\x0b\x02\x07\x00']
2025-11-03 18:45:34.674 INFO (MainThread) [zigpy.endpoint] [0x4252:1] Discovered endpoint information: SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=81, device_version=1, input_clusters=[0, 6, 3, 4, 5, 57345, 2820, 1794], output_clusters=[])
2025-11-03 18:45:34.676 DEBUG (MainThread) [zigpy.zcl] Unknown cluster 0xE001
2025-11-03 18:45:34.683 DEBUG (MainThread) [zigpy.device] Device does not support fast polling
2025-11-03 18:45:34.688 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=4, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:34.695 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Sending request: Read_Attributes(attribute_ids=[4, 5])
2025-11-03 18:45:34.697 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:45:34.702 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 702373, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=4, profile_id=260, cluster_id=0, data=Serialized[b'\x00\x04\x00\x04\x00\x05\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:34.703 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:45:34.708 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=0, TSN=4, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x04\x00\x04\x00\x05\x00')
2025-11-03 18:45:34.732 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:34.748 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=4)
2025-11-03 18:45:34.848 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=0, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=111, SecurityUse=<Bool.false: 0>, TimeStamp=12429206, TSN=0, Data=b'\x18\x04\x01\x04\x00\x00\x42\x10\x5F\x54\x5A\x33\x30\x30\x30\x5F\x6F\x6B\x61\x7A\x39\x74\x6A\x73\x05\x00\x00\x42\x06\x54\x53\x30\x31\x31\x46', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:34.856 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 856384, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=0, data=Serialized[b'\x18\x04\x01\x04\x00\x00B\x10_TZ3000_okaz9tjs\x05\x00\x00B\x06TS011F'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=111, rssi=None)
2025-11-03 18:45:34.860 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Received ZCL frame: b'\x18\x04\x01\x04\x00\x00B\x10_TZ3000_okaz9tjs\x05\x00\x00B\x06TS011F'
2025-11-03 18:45:34.862 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=4, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:34.868 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Decoded ZCL frame: Basic:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=4, status=<Status.SUCCESS: 0>, value=TypeValue(type=CharacterString, value='_TZ3000_okaz9tjs')), ReadAttributeRecord(attrid=5, status=<Status.SUCCESS: 0>, value=TypeValue(type=CharacterString, value='TS011F'))])
2025-11-03 18:45:34.871 INFO (MainThread) [zigpy.device] [0x4252] Read model 'TS011F' and manufacturer '_TZ3000_okaz9tjs' from <Endpoint id=1 in=[basic:0x0000, on_off:0x0006, identify:0x0003, groups:0x0004, scenes:0x0005, None:0xE001, electrical_measurement:0x0B04, smartenergy_metering:0x0702] out=[] status=<Status.ZDO_INIT: 1>>
2025-11-03 18:45:34.872 INFO (MainThread) [zigpy.device] [0x4252] Discovered basic device information for <Device model='TS011F' manuf='_TZ3000_okaz9tjs' nwk=0x4252 ieee=70:b3:d5:2b:60:05:9b:d5 is_initialized=True>
2025-11-03 18:45:34.874 DEBUG (MainThread) [zigpy.application] Device is initialized <Device model='TS011F' manuf='_TZ3000_okaz9tjs' nwk=0x4252 ieee=70:b3:d5:2b:60:05:9b:d5 is_initialized=True>
2025-11-03 18:45:34.883 DEBUG (MainThread) [zha] Emitting event raw_device_initialized with data RawDeviceInitializedEvent(device_info=RawDeviceInitializedDeviceInfo(ieee=70:b3:d5:2b:60:05:9b:d5, nwk=0x4252, pairing_status=<DevicePairingStatus.INTERVIEW_COMPLETE: 2>, model='TS011F', manufacturer='_TZ3000_okaz9tjs', signature={'manufacturer': '_TZ3000_okaz9tjs', 'model': 'TS011F', 'node_desc': {'logical_type': <LogicalType.Router: 1>, 'complex_descriptor_available': 0, 'user_descriptor_available': 0, 'reserved': 0, 'aps_flags': 0, 'frequency_band': <FrequencyBand.Freq2400MHz: 8>, 'mac_capability_flags': <MACCapabilityFlags.FullFunctionDevice|MainsPowered|RxOnWhenIdle|AllocateAddress: 142>, 'manufacturer_code': 4660, 'maximum_buffer_size': 108, 'maximum_incoming_transfer_size': 0, 'server_mask': 11264, 'maximum_outgoing_transfer_size': 0, 'descriptor_capability_field': <DescriptorCapability.NONE: 0>}, 'endpoints': {1: {'profile_id': 260, 'device_type': <DeviceType.SMART_PLUG: 81>, 'input_clusters': [0, 6, 3, 4, 5, 57345, 2820, 1794], 'output_clusters': []}}}), event_type='zha_gateway_message', event='raw_device_initialized') (1 listeners)
2025-11-03 18:45:34.884 DEBUG (MainThread) [zha] (ZHAGatewayProxy) handling event protocol for event: RawDeviceInitializedEvent(device_info=RawDeviceInitializedDeviceInfo(ieee=70:b3:d5:2b:60:05:9b:d5, nwk=0x4252, pairing_status=<DevicePairingStatus.INTERVIEW_COMPLETE: 2>, model='TS011F', manufacturer='_TZ3000_okaz9tjs', signature={'manufacturer': '_TZ3000_okaz9tjs', 'model': 'TS011F', 'node_desc': {'logical_type': <LogicalType.Router: 1>, 'complex_descriptor_available': 0, 'user_descriptor_available': 0, 'reserved': 0, 'aps_flags': 0, 'frequency_band': <FrequencyBand.Freq2400MHz: 8>, 'mac_capability_flags': <MACCapabilityFlags.FullFunctionDevice|MainsPowered|RxOnWhenIdle|AllocateAddress: 142>, 'manufacturer_code': 4660, 'maximum_buffer_size': 108, 'maximum_incoming_transfer_size': 0, 'server_mask': 11264, 'maximum_outgoing_transfer_size': 0, 'descriptor_capability_field': <DescriptorCapability.NONE: 0>}, 'endpoints': {1: {'profile_id': 260, 'device_type': <DeviceType.SMART_PLUG: 81>, 'input_clusters': [0, 6, 3, 4, 5, 57345, 2820, 1794], 'output_clusters': []}}}), event_type='zha_gateway_message', event='raw_device_initialized')
2025-11-03 18:45:34.886 DEBUG (MainThread) [zigpy.quirks.registry] Checking quirks for _TZ3000_okaz9tjs TS011F (70:b3:d5:2b:60:05:9b:d5)
2025-11-03 18:45:34.886 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_switch.Tuya_1G_Switch'>
2025-11-03 18:45:34.887 DEBUG (MainThread) [zigpy.quirks] Fail because device_type mismatch on at least one endpoint
2025-11-03 18:45:34.888 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_switch.Tuya_2G_Switch'>
2025-11-03 18:45:34.888 DEBUG (MainThread) [zigpy.quirks] Fail because endpoint list mismatch: {1, 2, 242} {1}
2025-11-03 18:45:34.889 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.lidl.ts011f_plug.Lidl_Plug_3AC_4USB'>
2025-11-03 18:45:34.889 DEBUG (MainThread) [zigpy.quirks] Fail because endpoint list mismatch: {1, 242} {1}
2025-11-03 18:45:34.889 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_TZ3000_2AC_var02'>
2025-11-03 18:45:34.889 DEBUG (MainThread) [zigpy.quirks] Fail because endpoint list mismatch: {1, 2, 242} {1}
2025-11-03 18:45:34.890 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_TZ3000_2AC'>
2025-11-03 18:45:34.890 DEBUG (MainThread) [zigpy.quirks] Fail because endpoint list mismatch: {1, 2} {1}
2025-11-03 18:45:34.890 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_2AC_var05'>
2025-11-03 18:45:34.891 DEBUG (MainThread) [zigpy.quirks] Fail because endpoint list mismatch: {1, 2, 242} {1}
2025-11-03 18:45:34.891 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_CB_Metering'>
2025-11-03 18:45:34.891 DEBUG (MainThread) [zigpy.quirks] Fail because endpoint list mismatch: {1, 242} {1}
2025-11-03 18:45:34.891 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_2AC_var03'>
2025-11-03 18:45:34.892 DEBUG (MainThread) [zigpy.quirks] Fail because endpoint list mismatch: {1, 2} {1}
2025-11-03 18:45:34.892 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_v5'>
2025-11-03 18:45:34.892 DEBUG (MainThread) [zigpy.quirks] Fail because device_type mismatch on at least one endpoint
2025-11-03 18:45:34.892 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_v6'>
2025-11-03 18:45:34.895 DEBUG (MainThread) [zigpy.quirks] Fail because input cluster mismatch on at least one endpoint
2025-11-03 18:45:34.895 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_v4'>
2025-11-03 18:45:34.896 DEBUG (MainThread) [zigpy.quirks] Fail because endpoint list mismatch: {1, 242} {1}
2025-11-03 18:45:34.896 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_v3_NoGP'>
2025-11-03 18:45:34.896 DEBUG (MainThread) [zigpy.quirks] Fail because input cluster mismatch on at least one endpoint
2025-11-03 18:45:34.896 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_v3'>
2025-11-03 18:45:34.897 DEBUG (MainThread) [zigpy.quirks] Fail because endpoint list mismatch: {1, 242} {1}
2025-11-03 18:45:34.897 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.tuya.ts011f_plug.Plug_v2'>
2025-11-03 18:45:34.897 DEBUG (MainThread) [zigpy.quirks] Device matches filter signature - device ieee[70:b3:d5:2b:60:05:9b:d5]: filter signature[{'model': 'TS011F', 'endpoints': {1: {'profile_id': 260, 'device_type': <DeviceType.SMART_PLUG: 81>, 'input_clusters': [0, 3, 4, 5, 6, 1794, 2820, 57345], 'output_clusters': []}}}]
2025-11-03 18:45:34.898 DEBUG (MainThread) [zigpy.quirks.registry] Found custom device replacement for 70:b3:d5:2b:60:05:9b:d5: <class 'zhaquirks.tuya.ts011f_plug.Plug_v2'>
2025-11-03 18:45:34.901 DEBUG (MainThread) [zha.zigbee.endpoint] Creating cluster handler for cluster id: 0 class: <class 'zha.zigbee.cluster_handlers.general.BasicClusterHandler'>
2025-11-03 18:45:34.904 DEBUG (MainThread) [zha.zigbee.endpoint] Creating cluster handler for cluster id: 3 class: <class 'zha.zigbee.cluster_handlers.general.IdentifyClusterHandler'>
2025-11-03 18:45:34.904 DEBUG (MainThread) [zha.zigbee.endpoint] Creating cluster handler for cluster id: 4 class: <class 'zha.zigbee.cluster_handlers.general.GroupsClusterHandler'>
2025-11-03 18:45:34.905 DEBUG (MainThread) [zha.zigbee.endpoint] Creating cluster handler for cluster id: 5 class: <class 'zha.zigbee.cluster_handlers.general.ScenesClusterHandler'>
2025-11-03 18:45:34.905 DEBUG (MainThread) [zha.zigbee.endpoint] Creating cluster handler for cluster id: 6 class: <class 'zha.zigbee.cluster_handlers.general.OnOffClusterHandler'>
2025-11-03 18:45:34.906 DEBUG (MainThread) [zha.zigbee.endpoint] Creating cluster handler for cluster id: 1794 class: <class 'zha.zigbee.cluster_handlers.smartenergy.MeteringClusterHandler'>
2025-11-03 18:45:34.906 DEBUG (MainThread) [zha.zigbee.endpoint] Creating cluster handler for cluster id: 2820 class: <class 'zha.zigbee.cluster_handlers.homeautomation.ElectricalMeasurementClusterHandler'>
2025-11-03 18:45:34.907 DEBUG (MainThread) [zha.zigbee.endpoint] Creating cluster handler for cluster id: 57345 class: <class 'zha.zigbee.cluster_handlers.ClusterHandler'>
2025-11-03 18:45:34.907 DEBUG (MainThread) [zha.application.gateway] device - 0x4252:70:b3:d5:2b:60:05:9b:d5 entering async_device_initialized - is_new_join: True
2025-11-03 18:45:34.908 DEBUG (MainThread) [zha.application.gateway] device - 0x4252:70:b3:d5:2b:60:05:9b:d5 has joined the ZHA zigbee network
2025-11-03 18:45:34.909 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): Update device availability -  device available: True - new availability: True - changed: False
2025-11-03 18:45:34.909 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): started configuration
2025-11-03 18:45:34.910 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:ZDO](TS011F): 'async_configure' stage succeeded
2025-11-03 18:45:34.910 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): applying quirks custom device configuration
2025-11-03 18:45:34.910 DEBUG (MainThread) [zigpy.device] [0x4252] Executing attribute read spell on Tuya device 70:b3:d5:2b:60:05:9b:d5
2025-11-03 18:45:34.912 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=1, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:34.916 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Sending request: Read_Attributes(attribute_ids=[4, 0, 1, 5, 7, 65534])
2025-11-03 18:45:34.919 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 34, 919424, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=1, profile_id=260, cluster_id=0, data=Serialized[b'\x00\x01\x00\x04\x00\x00\x00\x01\x00\x05\x00\x07\x00\xfe\xff'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:34.926 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=0, TSN=1, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x01\x00\x04\x00\x00\x00\x01\x00\x05\x00\x07\x00\xFE\xFF')
2025-11-03 18:45:34.948 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (70:b3:d5:2b:60:05:9b:d5, 1, <ClusterType.Server: 0>, 0, 4, '_TZ3000_okaz9tjs', datetime.datetime(2025, 11, 3, 18, 45, 34, 871489, tzinfo=datetime.timezone.utc)) params: FOREIGN KEY constraint failed
2025-11-03 18:45:34.954 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:34.956 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=1)
2025-11-03 18:45:34.960 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (70:b3:d5:2b:60:05:9b:d5, 1, <ClusterType.Server: 0>, 0, 5, 'TS011F', datetime.datetime(2025, 11, 3, 18, 45, 34, 871661, tzinfo=datetime.timezone.utc)) params: FOREIGN KEY constraint failed
2025-11-03 18:45:34.998 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=0, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12439670, TSN=0, Data=b'\x18\x01\x01\x04\x00\x00\x42\x10\x5F\x54\x5A\x33\x30\x30\x30\x5F\x6F\x6B\x61\x7A\x39\x74\x6A\x73\x00\x00\x00\x20\x02\x01\x00\x00\x20\x64\x05\x00\x00\x42\x06\x54\x53\x30\x31\x31\x46\x07\x00\x00\x30\x01\xFE\xFF\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.000 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 679, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=0, data=Serialized[b'\x18\x01\x01\x04\x00\x00B\x10_TZ3000_okaz9tjs\x00\x00\x00 \x02\x01\x00\x00 d\x05\x00\x00B\x06TS011F\x07\x00\x000\x01\xfe\xff\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:35.003 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Received ZCL frame: b'\x18\x01\x01\x04\x00\x00B\x10_TZ3000_okaz9tjs\x00\x00\x00 \x02\x01\x00\x00 d\x05\x00\x00B\x06TS011F\x07\x00\x000\x01\xfe\xff\x86'
2025-11-03 18:45:35.005 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=1, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.010 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0000] Decoded ZCL frame: Basic:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=4, status=<Status.SUCCESS: 0>, value=TypeValue(type=CharacterString, value='_TZ3000_okaz9tjs')), ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint8_t, value=2)), ReadAttributeRecord(attrid=1, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint8_t, value=100)), ReadAttributeRecord(attrid=5, status=<Status.SUCCESS: 0>, value=TypeValue(type=CharacterString, value='TS011F')), ReadAttributeRecord(attrid=7, status=<Status.SUCCESS: 0>, value=TypeValue(type=enum8, value=<enum8.undefined_0x01: 1>)), ReadAttributeRecord(attrid=65534, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:35.014 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: cluster_handler[basic] attribute_updated - cluster[Basic] attr[manufacturer] value[_TZ3000_okaz9tjs]
2025-11-03 18:45:35.014 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=4, attribute_name='manufacturer', attribute_value='_TZ3000_okaz9tjs', cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', cluster_id=0, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (0 listeners)
2025-11-03 18:45:35.015 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: cluster_handler[basic] attribute_updated - cluster[Basic] attr[zcl_version] value[2]
2025-11-03 18:45:35.015 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='zcl_version', attribute_value=2, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', cluster_id=0, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (0 listeners)
2025-11-03 18:45:35.016 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: cluster_handler[basic] attribute_updated - cluster[Basic] attr[app_version] value[100]
2025-11-03 18:45:35.016 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1, attribute_name='app_version', attribute_value=100, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', cluster_id=0, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (0 listeners)
2025-11-03 18:45:35.017 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: cluster_handler[basic] attribute_updated - cluster[Basic] attr[model] value[TS011F]
2025-11-03 18:45:35.031 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=5, attribute_name='model', attribute_value='TS011F', cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', cluster_id=0, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (0 listeners)
2025-11-03 18:45:35.032 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: cluster_handler[basic] attribute_updated - cluster[Basic] attr[power_source] value[PowerSource.Mains_single_phase]
2025-11-03 18:45:35.032 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=7, attribute_name='power_source', attribute_value=<PowerSource.Mains_single_phase: 1>, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', cluster_id=0, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (0 listeners)
2025-11-03 18:45:35.033 DEBUG (MainThread) [zigpy.device] [0x4252] Executed attribute read spell on Tuya device 70:b3:d5:2b:60:05:9b:d5
2025-11-03 18:45:35.034 DEBUG (MainThread) [zha.application.discovery] Discovering entities for device: 70:b3:d5:2b:60:05:9b:d5-_TZ3000_okaz9tjs TS011F
2025-11-03 18:45:35.035 DEBUG (MainThread) [zha.application.discovery] Discovering entities for endpoint: 70:b3:d5:2b:60:05:9b:d5-1
2025-11-03 18:45:35.039 DEBUG (MainThread) [zha.application.discovery] 'button' platform -> 'IdentifyButton' using ['identify']
2025-11-03 18:45:35.039 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementActivePowerPhB' using ['electrical_measurement']
2025-11-03 18:45:35.040 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementActivePowerPhC' using ['electrical_measurement']
2025-11-03 18:45:35.041 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementTotalActivePower' using ['electrical_measurement']
2025-11-03 18:45:35.041 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementApparentPower' using ['electrical_measurement']
2025-11-03 18:45:35.049 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementRMSCurrent' using ['electrical_measurement']
2025-11-03 18:45:35.050 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementRMSCurrentPhB' using ['electrical_measurement']
2025-11-03 18:45:35.051 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementRMSCurrentPhC' using ['electrical_measurement']
2025-11-03 18:45:35.052 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementRMSVoltage' using ['electrical_measurement']
2025-11-03 18:45:35.053 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementRMSVoltagePhB' using ['electrical_measurement']
2025-11-03 18:45:35.054 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementRMSVoltagePhC' using ['electrical_measurement']
2025-11-03 18:45:35.055 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementFrequency' using ['electrical_measurement']
2025-11-03 18:45:35.056 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementPowerFactor' using ['electrical_measurement']
2025-11-03 18:45:35.057 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementPowerFactorPhB' using ['electrical_measurement']
2025-11-03 18:45:35.058 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'ElectricalMeasurementPowerFactorPhC' using ['electrical_measurement']
2025-11-03 18:45:35.058 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'SmartEnergySummationReceived' using ['smartenergy_metering']
2025-11-03 18:45:35.059 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'RSSISensor' using ['basic']
2025-11-03 18:45:35.061 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'LQISensor' using ['basic']
2025-11-03 18:45:35.062 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'PolledElectricalMeasurement' using ['electrical_measurement']
2025-11-03 18:45:35.063 DEBUG (MainThread) [zha.decorators] Sleep time for periodic task: [zha.application.platforms.sensor::PollableSensor._refresh] is 33 seconds
2025-11-03 18:45:35.064 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: started polling with refresh interval of 33
2025-11-03 18:45:35.065 DEBUG (MainThread) [zha.application.discovery] 'sensor' platform -> 'PolledSmartEnergySummation' using ['smartenergy_metering']
2025-11-03 18:45:35.066 DEBUG (MainThread) [zha.decorators] Sleep time for periodic task: [zha.application.platforms.sensor::PollableSensor._refresh] is 31 seconds
2025-11-03 18:45:35.066 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: started polling with refresh interval of 31
2025-11-03 18:45:35.071 DEBUG (MainThread) [zha.application.discovery] 'select' platform -> 'TuyaPowerOnStateSelectEntity' using ['on_off']
2025-11-03 18:45:35.072 DEBUG (MainThread) [zha.application.discovery] 'select' platform -> 'TuyaBacklightModeSelectEntity' using ['on_off']
2025-11-03 18:45:35.075 DEBUG (MainThread) [zha.application.discovery] 'select' platform -> 'StartupOnOffSelectEntity' using ['on_off']
2025-11-03 18:45:35.076 DEBUG (MainThread) [zha.application.discovery] 'switch' platform -> 'TuyaChildLockSwitch' using ['on_off']
2025-11-03 18:45:35.077 DEBUG (MainThread) [zha.application.discovery] Attempting to discover quirks v2 entities for device: 70:b3:d5:2b:60:05:9b:d5-_TZ3000_okaz9tjs TS011F
2025-11-03 18:45:35.077 DEBUG (MainThread) [zha.application.discovery] Device: 70:b3:d5:2b:60:05:9b:d5-_TZ3000_okaz9tjs TS011F is not a quirks v2 device - skipping discover_quirks_v2_entities
2025-11-03 18:45:35.084 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: Performing cluster binding
2025-11-03 18:45:35.085 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.087 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 87819, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=0, source_route=None, extended_timeout=False, tsn=2, profile_id=0, cluster_id=<ZDOCmd.Bind_req: 0x0021>, data=Serialized[b'\x02\xd5\x9b\x05`+\xd5\xb3p\x01\x06\x00\x03)\x84\x1e.\x00K\x12\x00\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.090 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x4252, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.MTO_ROUTE|NO_ROUTE_CACHE: 3>)
2025-11-03 18:45:35.093 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Performing cluster binding
2025-11-03 18:45:35.094 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.096 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 96520, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=0, source_route=None, extended_timeout=False, tsn=3, profile_id=0, cluster_id=<ZDOCmd.Bind_req: 0x0021>, data=Serialized[b'\x03\xd5\x9b\x05`+\xd5\xb3p\x01\x02\x07\x03)\x84\x1e.\x00K\x12\x00\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.099 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0003]: Configuring cluster attribute reporting
2025-11-03 18:45:35.100 DEBUG (MainThread) [zha] Emitting event zha_channel_configure_reporting with data ClusterConfigureReportingEvent(cluster_name='Identify', cluster_id=3, attributes={}, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0003', event_type='zha_channel_message', event='zha_channel_configure_reporting') (0 listeners)
2025-11-03 18:45:35.100 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0003]: finished cluster handler configuration
2025-11-03 18:45:35.101 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Performing cluster binding
2025-11-03 18:45:35.102 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.103 DEBUG (MainThread) [zigpy.device] Device concurrency (2) reached, delaying request (0 enqueued)
2025-11-03 18:45:35.104 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: Configuring cluster attribute reporting
2025-11-03 18:45:35.104 DEBUG (MainThread) [zha] Emitting event zha_channel_configure_reporting with data ClusterConfigureReportingEvent(cluster_name='Basic', cluster_id=0, attributes={}, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', event_type='zha_channel_message', event='zha_channel_configure_reporting') (0 listeners)
2025-11-03 18:45:35.105 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: finished cluster handler configuration
2025-11-03 18:45:35.121 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2025-11-03 18:45:35.127 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x4252, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.MTO_ROUTE|NO_ROUTE_CACHE: 3>)
2025-11-03 18:45:35.137 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2025-11-03 18:45:35.139 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=0, DstPanId=0x0000, SrcEndpoint=0, ClusterId=33, TSN=2, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x02\xD5\x9B\x05\x60\x2B\xD5\xB3\x70\x01\x06\x00\x03\x29\x84\x1E\x2E\x00\x4B\x12\x00\x01')
2025-11-03 18:45:35.170 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.172 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=0, DstPanId=0x0000, SrcEndpoint=0, ClusterId=33, TSN=3, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x03\xD5\x9B\x05\x60\x2B\xD5\xB3\x70\x01\x02\x07\x03\x29\x84\x1E\x2E\x00\x4B\x12\x00\x01')
2025-11-03 18:45:35.190 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.245 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0x4252, Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.248 DEBUG (MainThread) [zigpy_znp.api] Command was not handled
2025-11-03 18:45:35.249 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MsgCbIncoming.Callback(Src=0x4252, IsBroadcast=<Bool.false: 0>, ClusterId=32801, SecurityUse=0, TSN=2, MacDst=0x0000, Data=b'\x00')
2025-11-03 18:45:35.252 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 252549, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=0, source_route=None, extended_timeout=False, tsn=2, profile_id=0, cluster_id=32801, data=Serialized[b'\x02\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.255 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: bound 'on_off' cluster: Status.SUCCESS
2025-11-03 18:45:35.255 DEBUG (MainThread) [zha] Emitting event zha_channel_bind with data ClusterBindEvent(cluster_name='On/Off', cluster_id=6, success=True, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', event_type='zha_channel_message', event='zha_channel_bind') (0 listeners)
2025-11-03 18:45:35.256 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: Configuring cluster attribute reporting
2025-11-03 18:45:35.256 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.258 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=5, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.264 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0000, datatype=<DataTypeId.bool_: 16>, min_interval=0, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.266 DEBUG (MainThread) [zigpy.device] Device concurrency (2) reached, delaying request (0 enqueued)
2025-11-03 18:45:35.266 DEBUG (MainThread) [zigpy.device] Previously delayed device request is now running, delayed by 0.16s
2025-11-03 18:45:35.272 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 272701, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=0, source_route=None, extended_timeout=False, tsn=4, profile_id=0, cluster_id=<ZDOCmd.Bind_req: 0x0021>, data=Serialized[b'\x04\xd5\x9b\x05`+\xd5\xb3p\x01\x04\x0b\x03)\x84\x1e.\x00K\x12\x00\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.274 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x4252, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.MTO_ROUTE|NO_ROUTE_CACHE: 3>)
2025-11-03 18:45:35.288 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2025-11-03 18:45:35.290 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=0, DstPanId=0x0000, SrcEndpoint=0, ClusterId=33, TSN=4, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x04\xD5\x9B\x05\x60\x2B\xD5\xB3\x70\x01\x04\x0B\x03\x29\x84\x1E\x2E\x00\x4B\x12\x00\x01')
2025-11-03 18:45:35.301 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0x4252, Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.302 DEBUG (MainThread) [zigpy_znp.api] Command was not handled
2025-11-03 18:45:35.303 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MsgCbIncoming.Callback(Src=0x4252, IsBroadcast=<Bool.false: 0>, ClusterId=32801, SecurityUse=0, TSN=3, MacDst=0x0000, Data=b'\x00')
2025-11-03 18:45:35.306 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 306046, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=0, source_route=None, extended_timeout=False, tsn=3, profile_id=0, cluster_id=32801, data=Serialized[b'\x03\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.309 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: bound 'smartenergy_metering' cluster: Status.SUCCESS
2025-11-03 18:45:35.310 DEBUG (MainThread) [zha] Emitting event zha_channel_bind with data ClusterBindEvent(cluster_name='TuyaZBMeteringClusterWithUnit', cluster_id=1794, success=True, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', event_type='zha_channel_message', event='zha_channel_bind') (0 listeners)
2025-11-03 18:45:35.310 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Configuring cluster attribute reporting
2025-11-03 18:45:35.311 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.314 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=6, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.327 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0400, datatype=<DataTypeId.int24: 42>, min_interval=5, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0000, datatype=<DataTypeId.uint48: 37>, min_interval=30, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0100, datatype=<DataTypeId.uint48: 37>, min_interval=30, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.329 DEBUG (MainThread) [zigpy.device] Device concurrency (2) reached, delaying request (0 enqueued)
2025-11-03 18:45:35.330 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.332 DEBUG (MainThread) [zigpy.device] Previously delayed device request is now running, delayed by 0.07s
2025-11-03 18:45:35.334 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 334343, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=5, profile_id=260, cluster_id=6, data=Serialized[b'\x00\x05\x06\x00\x00\x00\x10\x00\x00\x84\x03'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.347 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=6, TSN=5, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x05\x06\x00\x00\x00\x10\x00\x00\x84\x03')
2025-11-03 18:45:35.363 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.382 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=5)
2025-11-03 18:45:35.383 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0x4252, Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.384 DEBUG (MainThread) [zigpy_znp.api] Command was not handled
2025-11-03 18:45:35.385 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MsgCbIncoming.Callback(Src=0x4252, IsBroadcast=<Bool.false: 0>, ClusterId=32801, SecurityUse=0, TSN=4, MacDst=0x0000, Data=b'\x00')
2025-11-03 18:45:35.389 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 389429, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=0, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=0, source_route=None, extended_timeout=False, tsn=4, profile_id=0, cluster_id=32801, data=Serialized[b'\x04\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.392 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: bound 'electrical_measurement' cluster: Status.SUCCESS
2025-11-03 18:45:35.393 DEBUG (MainThread) [zha] Emitting event zha_channel_bind with data ClusterBindEvent(cluster_name='Electrical Measurement', cluster_id=2820, success=True, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', event_type='zha_channel_message', event='zha_channel_bind') (0 listeners)
2025-11-03 18:45:35.393 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Configuring cluster attribute reporting
2025-11-03 18:45:35.394 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.397 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=7, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.400 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0600, datatype=<DataTypeId.uint16: 33>, min_interval=0, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0601, datatype=<DataTypeId.uint16: 33>, min_interval=0, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0602, datatype=<DataTypeId.uint16: 33>, min_interval=0, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.404 DEBUG (MainThread) [zigpy.device] Device concurrency (2) reached, delaying request (0 enqueued)
2025-11-03 18:45:35.406 DEBUG (MainThread) [zigpy.device] Previously delayed device request is now running, delayed by 0.08s
2025-11-03 18:45:35.408 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 407954, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=6, profile_id=260, cluster_id=1794, data=Serialized[b'\x00\x06\x06\x00\x00\x04*\x05\x00\x84\x03\x01\x00\x00\x00\x00\x00%\x1e\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\x00\x01%\x1e\x00\x84\x03\x01\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.415 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=6, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x06\x06\x00\x00\x04\x2A\x05\x00\x84\x03\x01\x00\x00\x00\x00\x00\x25\x1E\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\x00\x01\x25\x1E\x00\x84\x03\x01\x00\x00\x00\x00\x00')
2025-11-03 18:45:35.448 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=6, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12466943, TSN=0, Data=b'\x18\x05\x07\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.450 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=6, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12467393, TSN=0, Data=b'\x08\x00\x0A\x00\x00\x10\x01', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.451 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.452 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=6)
2025-11-03 18:45:35.454 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 454760, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=6, data=Serialized[b'\x18\x05\x07\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:35.458 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Received ZCL frame: b'\x18\x05\x07\x00'
2025-11-03 18:45:35.464 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=5, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.481 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame: TuyaZBOnOffAttributeCluster:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.SUCCESS: 0>)])
2025-11-03 18:45:35.486 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 485928, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=6, data=Serialized[b'\x08\x00\n\x00\x00\x10\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:35.489 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Received ZCL frame: b'\x08\x00\n\x00\x00\x10\x01'
2025-11-03 18:45:35.491 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x08>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=0, command_id=10, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.495 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame: TuyaZBOnOffAttributeCluster:Report_Attributes(attribute_reports=[Attribute(attrid=0x0000, value=TypeValue(type=Bool, value=<Bool.true: 1>))])
2025-11-03 18:45:35.498 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Received command 0x0A (TSN 0): Report_Attributes(attribute_reports=[Attribute(attrid=0x0000, value=TypeValue(type=Bool, value=<Bool.true: 1>))])
2025-11-03 18:45:35.500 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Attribute report received: on_off=<Bool.true: 1>
2025-11-03 18:45:35.501 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: cluster_handler[on_off] attribute_updated - cluster[On/Off] attr[on_off] value[Bool.true]
2025-11-03 18:45:35.501 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='on_off', attribute_value=<Bool.true: 1>, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', cluster_id=6, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (5 listeners)
2025-11-03 18:45:35.502 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SWITCH: 'switch'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:35.514 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: Successfully configured reporting for '{'on_off': (0, 900, 1)}' on 'on_off' cluster: [ConfigureReportingResponseRecord(status=<Status.SUCCESS: 0>)]
2025-11-03 18:45:35.515 DEBUG (MainThread) [zha] Emitting event zha_channel_configure_reporting with data ClusterConfigureReportingEvent(cluster_name='On/Off', cluster_id=6, attributes={'on_off': {'min': 0, 'max': 900, 'id': 'on_off', 'name': 'on_off', 'change': 1, 'status': 'SUCCESS'}}, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', event_type='zha_channel_message', event='zha_channel_configure_reporting') (0 listeners)
2025-11-03 18:45:35.515 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: finished cluster handler configuration
2025-11-03 18:45:35.518 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Sending reply header: ZCLHeader(frame_control=FrameControl<0x10>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=0, command_id=<GeneralCommand.Default_Response: 11>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.520 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Sending reply: Default_Response(command_id=10, status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.522 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 522644, tzinfo=datetime.timezone.utc), priority=<PacketPriority.LOW: -1>, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=6, data=Serialized[b'\x10\x00\x0b\n\x00'], tx_options=<TransmitOptions.ACK: 1>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.529 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=123, SecurityUse=<Bool.false: 0>, TimeStamp=12470668, TSN=0, Data=b'\x18\x06\x07\x86\x00\x00\x04\x8C\x00\x00\x00\x86\x00\x00\x01', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.531 DEBUG (MainThread) [zigpy.device] Previously delayed device request is now running, delayed by 0.13s
2025-11-03 18:45:35.533 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 533222, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=7, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x07\x06\x00\x00\x06!\x00\x00\x84\x03\x01\x00\x00\x01\x06!\x00\x00\x84\x03\x01\x00\x00\x02\x06!\x00\x00\x84\x03\x01\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.535 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=6, TSN=0, Options=<TransmitOptions.ACK_REQUEST|SUPPRESS_ROUTE_DISC_NETWORK: 48>, Radius=0, Data=b'\x10\x00\x0B\x0A\x00')
2025-11-03 18:45:35.540 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 540105, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18\x06\x07\x86\x00\x00\x04\x8c\x00\x00\x00\x86\x00\x00\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=123, rssi=None)
2025-11-03 18:45:35.542 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18\x06\x07\x86\x00\x00\x04\x8c\x00\x00\x00\x86\x00\x00\x01'
2025-11-03 18:45:35.545 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=6, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.548 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1024), ConfigureReportingResponseRecord(status=<Status.UNREPORTABLE_ATTRIBUTE: 140>, direction=<ReportingDirection.SendReports: 0>, attrid=0), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=256)])
2025-11-03 18:45:35.560 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Failed to configure reporting for '['instantaneous_demand', 'current_summ_delivered', 'current_tier1_summ_delivered']' on 'smartenergy_metering' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1024), ConfigureReportingResponseRecord(status=<Status.UNREPORTABLE_ATTRIBUTE: 140>, direction=<ReportingDirection.SendReports: 0>, attrid=0), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=256)]
2025-11-03 18:45:35.561 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Successfully configured reporting for 'set()' on 'smartenergy_metering' cluster
2025-11-03 18:45:35.563 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.566 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=8, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.571 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0102, datatype=<DataTypeId.uint48: 37>, min_interval=30, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0104, datatype=<DataTypeId.uint48: 37>, min_interval=30, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0106, datatype=<DataTypeId.uint48: 37>, min_interval=30, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.572 DEBUG (MainThread) [zigpy.device] Device concurrency (2) reached, delaying request (0 enqueued)
2025-11-03 18:45:35.576 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.579 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=0)
2025-11-03 18:45:35.583 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=7, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x07\x06\x00\x00\x06\x21\x00\x00\x84\x03\x01\x00\x00\x01\x06\x21\x00\x00\x84\x03\x01\x00\x00\x02\x06\x21\x00\x00\x84\x03\x01\x00')
2025-11-03 18:45:35.588 DEBUG (MainThread) [zigpy.device] Previously delayed device request is now running, delayed by 0.02s
2025-11-03 18:45:35.590 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 590179, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=8, profile_id=260, cluster_id=1794, data=Serialized[b'\x00\x08\x06\x00\x02\x01%\x1e\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\x04\x01%\x1e\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\x06\x01%\x1e\x00\x84\x03\x01\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.605 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.606 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=7)
2025-11-03 18:45:35.610 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=8, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x08\x06\x00\x02\x01\x25\x1E\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\x04\x01\x25\x1E\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\x06\x01\x25\x1E\x00\x84\x03\x01\x00\x00\x00\x00\x00')
2025-11-03 18:45:35.637 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=123, SecurityUse=<Bool.false: 0>, TimeStamp=12480077, TSN=0, Data=b'\x18\x07\x07\x86\x00\x00\x06\x86\x00\x01\x06\x86\x00\x02\x06', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.638 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 638875, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x07\x07\x86\x00\x00\x06\x86\x00\x01\x06\x86\x00\x02\x06'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=123, rssi=None)
2025-11-03 18:45:35.642 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x07\x07\x86\x00\x00\x06\x86\x00\x01\x06\x86\x00\x02\x06'
2025-11-03 18:45:35.644 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=7, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.650 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1536), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1537), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1538)])
2025-11-03 18:45:35.654 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Failed to configure reporting for '['ac_voltage_multiplier', 'ac_voltage_divisor', 'ac_current_multiplier']' on 'electrical_measurement' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1536), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1537), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1538)]
2025-11-03 18:45:35.655 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Successfully configured reporting for 'set()' on 'electrical_measurement' cluster
2025-11-03 18:45:35.655 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.660 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=9, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.663 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0603, datatype=<DataTypeId.uint16: 33>, min_interval=0, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0604, datatype=<DataTypeId.uint16: 33>, min_interval=0, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0605, datatype=<DataTypeId.uint16: 33>, min_interval=0, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.667 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 667535, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=9, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\t\x06\x00\x03\x06!\x00\x00\x84\x03\x01\x00\x00\x04\x06!\x00\x00\x84\x03\x01\x00\x00\x05\x06!\x00\x00\x84\x03\x01\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.670 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.671 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=8)
2025-11-03 18:45:35.678 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=9, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x09\x06\x00\x03\x06\x21\x00\x00\x84\x03\x01\x00\x00\x04\x06\x21\x00\x00\x84\x03\x01\x00\x00\x05\x06\x21\x00\x00\x84\x03\x01\x00')
2025-11-03 18:45:35.693 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=12483340, TSN=0, Data=b'\x18\x08\x07\x86\x00\x02\x01\x86\x00\x04\x01\x86\x00\x06\x01', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.699 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 699461, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18\x08\x07\x86\x00\x02\x01\x86\x00\x04\x01\x86\x00\x06\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:45:35.702 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18\x08\x07\x86\x00\x02\x01\x86\x00\x04\x01\x86\x00\x06\x01'
2025-11-03 18:45:35.706 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=8, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.709 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=258), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=260), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=262)])
2025-11-03 18:45:35.718 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.719 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=9)
2025-11-03 18:45:35.723 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Failed to configure reporting for '['current_tier2_summ_delivered', 'current_tier3_summ_delivered', 'current_tier4_summ_delivered']' on 'smartenergy_metering' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=258), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=260), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=262)]
2025-11-03 18:45:35.725 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Successfully configured reporting for 'set()' on 'smartenergy_metering' cluster
2025-11-03 18:45:35.726 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.729 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=10, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.734 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0108, datatype=<DataTypeId.uint48: 37>, min_interval=30, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x010A, datatype=<DataTypeId.uint48: 37>, min_interval=30, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0001, datatype=<DataTypeId.uint48: 37>, min_interval=30, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.739 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 738958, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=10, profile_id=260, cluster_id=1794, data=Serialized[b'\x00\n\x06\x00\x08\x01%\x1e\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\n\x01%\x1e\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\x01\x00%\x1e\x00\x84\x03\x01\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.743 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=10, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x0A\x06\x00\x08\x01\x25\x1E\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\x0A\x01\x25\x1E\x00\x84\x03\x01\x00\x00\x00\x00\x00\x00\x01\x00\x25\x1E\x00\x84\x03\x01\x00\x00\x00\x00\x00')
2025-11-03 18:45:35.754 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12486244, TSN=0, Data=b'\x18\x09\x07\x86\x00\x03\x06\x86\x00\x04\x06\x86\x00\x05\x06', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.756 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 756656, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\t\x07\x86\x00\x03\x06\x86\x00\x04\x06\x86\x00\x05\x06'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:35.759 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\t\x07\x86\x00\x03\x06\x86\x00\x04\x06\x86\x00\x05\x06'
2025-11-03 18:45:35.763 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=9, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.767 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1539), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1540), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1541)])
2025-11-03 18:45:35.770 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Failed to configure reporting for '['ac_current_divisor', 'ac_power_multiplier', 'ac_power_divisor']' on 'electrical_measurement' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1539), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1540), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1541)]
2025-11-03 18:45:35.771 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Successfully configured reporting for 'set()' on 'electrical_measurement' cluster
2025-11-03 18:45:35.772 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.777 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=11, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.782 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0402, datatype=<DataTypeId.uint32: 35>, min_interval=0, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0403, datatype=<DataTypeId.uint32: 35>, min_interval=0, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x050B, datatype=<DataTypeId.int16: 41>, min_interval=5, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.790 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 790191, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=11, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x0b\x06\x00\x02\x04#\x00\x00\x84\x03\x01\x00\x00\x00\x00\x03\x04#\x00\x00\x84\x03\x01\x00\x00\x00\x00\x0b\x05)\x05\x00\x84\x03\x01\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.798 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.800 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=10)
2025-11-03 18:45:35.808 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=123, SecurityUse=<Bool.false: 0>, TimeStamp=12490346, TSN=0, Data=b'\x18\x0A\x07\x86\x00\x08\x01\x86\x00\x0A\x01\x86\x00\x01\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.809 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=11, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x0B\x06\x00\x02\x04\x23\x00\x00\x84\x03\x01\x00\x00\x00\x00\x03\x04\x23\x00\x00\x84\x03\x01\x00\x00\x00\x00\x0B\x05\x29\x05\x00\x84\x03\x01\x00')
2025-11-03 18:45:35.814 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 814164, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18\n\x07\x86\x00\x08\x01\x86\x00\n\x01\x86\x00\x01\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=123, rssi=None)
2025-11-03 18:45:35.817 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18\n\x07\x86\x00\x08\x01\x86\x00\n\x01\x86\x00\x01\x00'
2025-11-03 18:45:35.819 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=10, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.823 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=264), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=266), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1)])
2025-11-03 18:45:35.828 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Failed to configure reporting for '['current_tier5_summ_delivered', 'current_tier6_summ_delivered', 'current_summ_received']' on 'smartenergy_metering' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=264), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=266), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1)]
2025-11-03 18:45:35.829 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Successfully configured reporting for 'set()' on 'smartenergy_metering' cluster
2025-11-03 18:45:35.829 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.832 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=12, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.836 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0200, datatype=<DataTypeId.map8: 24>, min_interval=1, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.840 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 840555, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=12, profile_id=260, cluster_id=1794, data=Serialized[b'\x00\x0c\x06\x00\x00\x02\x18\x01\x00\x84\x03'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.849 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.850 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=11)
2025-11-03 18:45:35.856 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=12, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x0C\x06\x00\x00\x02\x18\x01\x00\x84\x03')
2025-11-03 18:45:35.869 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12494368, TSN=0, Data=b'\x18\x0B\x07\x86\x00\x02\x04\x86\x00\x03\x04\x8C\x00\x0B\x05', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.871 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 871231, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x0b\x07\x86\x00\x02\x04\x86\x00\x03\x04\x8c\x00\x0b\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:35.873 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x0b\x07\x86\x00\x02\x04\x86\x00\x03\x04\x8c\x00\x0b\x05'
2025-11-03 18:45:35.875 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=11, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.878 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1026), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1027), ConfigureReportingResponseRecord(status=<Status.UNREPORTABLE_ATTRIBUTE: 140>, direction=<ReportingDirection.SendReports: 0>, attrid=1291)])
2025-11-03 18:45:35.882 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.883 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=12)
2025-11-03 18:45:35.886 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Failed to configure reporting for '['power_multiplier', 'power_divisor', 'active_power']' on 'electrical_measurement' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1026), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1027), ConfigureReportingResponseRecord(status=<Status.UNREPORTABLE_ATTRIBUTE: 140>, direction=<ReportingDirection.SendReports: 0>, attrid=1291)]
2025-11-03 18:45:35.887 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Successfully configured reporting for 'set()' on 'electrical_measurement' cluster
2025-11-03 18:45:35.887 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.890 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=13, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.894 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x090B, datatype=<DataTypeId.int16: 41>, min_interval=5, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0A0B, datatype=<DataTypeId.int16: 41>, min_interval=5, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0304, datatype=<DataTypeId.int32: 43>, min_interval=5, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.898 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 898205, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=13, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\r\x06\x00\x0b\t)\x05\x00\x84\x03\x01\x00\x00\x0b\n)\x05\x00\x84\x03\x01\x00\x00\x04\x03+\x05\x00\x84\x03\x01\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.901 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=13, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x0D\x06\x00\x0B\x09\x29\x05\x00\x84\x03\x01\x00\x00\x0B\x0A\x29\x05\x00\x84\x03\x01\x00\x00\x04\x03\x2B\x05\x00\x84\x03\x01\x00\x00\x00')
2025-11-03 18:45:35.916 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=12497215, TSN=0, Data=b'\x18\x0C\x07\x86\x00\x00\x02', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.920 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 920707, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18\x0c\x07\x86\x00\x00\x02'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:45:35.924 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18\x0c\x07\x86\x00\x00\x02'
2025-11-03 18:45:35.926 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=12, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.929 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=512)])
2025-11-03 18:45:35.945 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Failed to configure reporting for '['status']' on 'smartenergy_metering' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=512)]
2025-11-03 18:45:35.946 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Successfully configured reporting for 'set()' on 'smartenergy_metering' cluster
2025-11-03 18:45:35.947 DEBUG (MainThread) [zha] Emitting event zha_channel_configure_reporting with data ClusterConfigureReportingEvent(cluster_name='TuyaZBMeteringClusterWithUnit', cluster_id=1794, attributes={'instantaneous_demand': {'min': 5, 'max': 900, 'id': 'instantaneous_demand', 'name': 'instantaneous_demand', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'current_summ_delivered': {'min': 30, 'max': 900, 'id': 'current_summ_delivered', 'name': 'current_summ_delivered', 'change': 1, 'status': 'UNREPORTABLE_ATTRIBUTE'}, 'current_tier1_summ_delivered': {'min': 30, 'max': 900, 'id': 'current_tier1_summ_delivered', 'name': 'current_tier1_summ_delivered', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'current_tier2_summ_delivered': {'min': 30, 'max': 900, 'id': 'current_tier2_summ_delivered', 'name': 'current_tier2_summ_delivered', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'current_tier3_summ_delivered': {'min': 30, 'max': 900, 'id': 'current_tier3_summ_delivered', 'name': 'current_tier3_summ_delivered', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'current_tier4_summ_delivered': {'min': 30, 'max': 900, 'id': 'current_tier4_summ_delivered', 'name': 'current_tier4_summ_delivered', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'current_tier5_summ_delivered': {'min': 30, 'max': 900, 'id': 'current_tier5_summ_delivered', 'name': 'current_tier5_summ_delivered', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'current_tier6_summ_delivered': {'min': 30, 'max': 900, 'id': 'current_tier6_summ_delivered', 'name': 'current_tier6_summ_delivered', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'current_summ_received': {'min': 30, 'max': 900, 'id': 'current_summ_received', 'name': 'current_summ_received', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'status': {'min': 1, 'max': 900, 'id': 'status', 'name': 'status', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}}, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', event_type='zha_channel_message', event='zha_channel_configure_reporting') (0 listeners)
2025-11-03 18:45:35.948 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: finished cluster handler configuration
2025-11-03 18:45:35.950 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:35.951 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=13)
2025-11-03 18:45:35.961 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=132, SecurityUse=<Bool.false: 0>, TimeStamp=12500207, TSN=0, Data=b'\x18\x0D\x07\x86\x00\x0B\x09\x86\x00\x0B\x0A\x86\x00\x04\x03', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:35.963 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 963189, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\r\x07\x86\x00\x0b\t\x86\x00\x0b\n\x86\x00\x04\x03'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=132, rssi=None)
2025-11-03 18:45:35.966 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\r\x07\x86\x00\x0b\t\x86\x00\x0b\n\x86\x00\x04\x03'
2025-11-03 18:45:35.969 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=13, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:35.972 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2315), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2571), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=772)])
2025-11-03 18:45:35.977 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Failed to configure reporting for '['active_power_ph_b', 'active_power_ph_c', 'total_active_power']' on 'electrical_measurement' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2315), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2571), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=772)]
2025-11-03 18:45:35.977 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Successfully configured reporting for 'set()' on 'electrical_measurement' cluster
2025-11-03 18:45:35.978 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:35.981 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=14, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:35.984 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x050F, datatype=<DataTypeId.uint16: 33>, min_interval=5, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0508, datatype=<DataTypeId.uint16: 33>, min_interval=5, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0908, datatype=<DataTypeId.uint16: 33>, min_interval=5, max_interval=900, reportable_change=1)])
2025-11-03 18:45:35.988 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 35, 988520, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=14, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x0e\x06\x00\x0f\x05!\x05\x00\x84\x03\x01\x00\x00\x08\x05!\x05\x00\x84\x03\x01\x00\x00\x08\t!\x05\x00\x84\x03\x01\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:35.995 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=14, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x0E\x06\x00\x0F\x05\x21\x05\x00\x84\x03\x01\x00\x00\x08\x05\x21\x05\x00\x84\x03\x01\x00\x00\x08\x09\x21\x05\x00\x84\x03\x01\x00')
2025-11-03 18:45:36.019 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:36.020 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=14)
2025-11-03 18:45:36.055 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12506013, TSN=0, Data=b'\x18\x0E\x07\x86\x00\x0F\x05\x8C\x00\x08\x05\x86\x00\x08\x09', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:36.060 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 60436, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x0e\x07\x86\x00\x0f\x05\x8c\x00\x08\x05\x86\x00\x08\t'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:36.063 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x0e\x07\x86\x00\x0f\x05\x8c\x00\x08\x05\x86\x00\x08\t'
2025-11-03 18:45:36.066 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=14, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:36.073 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1295), ConfigureReportingResponseRecord(status=<Status.UNREPORTABLE_ATTRIBUTE: 140>, direction=<ReportingDirection.SendReports: 0>, attrid=1288), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2312)])
2025-11-03 18:45:36.076 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Failed to configure reporting for '['apparent_power', 'rms_current', 'rms_current_ph_b']' on 'electrical_measurement' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=1295), ConfigureReportingResponseRecord(status=<Status.UNREPORTABLE_ATTRIBUTE: 140>, direction=<ReportingDirection.SendReports: 0>, attrid=1288), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2312)]
2025-11-03 18:45:36.078 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Successfully configured reporting for 'set()' on 'electrical_measurement' cluster
2025-11-03 18:45:36.078 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.082 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=15, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:36.087 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0A08, datatype=<DataTypeId.uint16: 33>, min_interval=5, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0505, datatype=<DataTypeId.uint16: 33>, min_interval=5, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0905, datatype=<DataTypeId.uint16: 33>, min_interval=5, max_interval=900, reportable_change=1)])
2025-11-03 18:45:36.092 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 92190, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=15, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x0f\x06\x00\x08\n!\x05\x00\x84\x03\x01\x00\x00\x05\x05!\x05\x00\x84\x03\x01\x00\x00\x05\t!\x05\x00\x84\x03\x01\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:36.101 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=15, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x0F\x06\x00\x08\x0A\x21\x05\x00\x84\x03\x01\x00\x00\x05\x05\x21\x05\x00\x84\x03\x01\x00\x00\x05\x09\x21\x05\x00\x84\x03\x01\x00')
2025-11-03 18:45:36.146 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:36.147 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=15)
2025-11-03 18:45:36.162 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=123, SecurityUse=<Bool.false: 0>, TimeStamp=12512580, TSN=0, Data=b'\x18\x0F\x07\x86\x00\x08\x0A\x8C\x00\x05\x05\x86\x00\x05\x09', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:36.165 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 165136, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x0f\x07\x86\x00\x08\n\x8c\x00\x05\x05\x86\x00\x05\t'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=123, rssi=None)
2025-11-03 18:45:36.173 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x0f\x07\x86\x00\x08\n\x8c\x00\x05\x05\x86\x00\x05\t'
2025-11-03 18:45:36.176 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=15, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:36.185 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2568), ConfigureReportingResponseRecord(status=<Status.UNREPORTABLE_ATTRIBUTE: 140>, direction=<ReportingDirection.SendReports: 0>, attrid=1285), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2309)])
2025-11-03 18:45:36.198 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Failed to configure reporting for '['rms_current_ph_c', 'rms_voltage', 'rms_voltage_ph_b']' on 'electrical_measurement' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2568), ConfigureReportingResponseRecord(status=<Status.UNREPORTABLE_ATTRIBUTE: 140>, direction=<ReportingDirection.SendReports: 0>, attrid=1285), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2309)]
2025-11-03 18:45:36.199 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Successfully configured reporting for 'set()' on 'electrical_measurement' cluster
2025-11-03 18:45:36.200 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.205 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=16, command_id=<GeneralCommand.Configure_Reporting: 6>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:36.208 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Configure_Reporting(config_records=[AttributeReportingConfig(direction=0, attrid=0x0A05, datatype=<DataTypeId.uint16: 33>, min_interval=5, max_interval=900, reportable_change=1), AttributeReportingConfig(direction=0, attrid=0x0300, datatype=<DataTypeId.uint16: 33>, min_interval=5, max_interval=900, reportable_change=1)])
2025-11-03 18:45:36.216 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 216178, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=16, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x10\x06\x00\x05\n!\x05\x00\x84\x03\x01\x00\x00\x00\x03!\x05\x00\x84\x03\x01\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:36.220 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=16, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x10\x06\x00\x05\x0A\x21\x05\x00\x84\x03\x01\x00\x00\x00\x03\x21\x05\x00\x84\x03\x01\x00')
2025-11-03 18:45:36.240 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:36.274 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=16)
2025-11-03 18:45:36.281 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12520155, TSN=0, Data=b'\x18\x10\x07\x86\x00\x05\x0A\x86\x00\x00\x03', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:36.284 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 284843, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x10\x07\x86\x00\x05\n\x86\x00\x00\x03'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:36.287 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x10\x07\x86\x00\x05\n\x86\x00\x00\x03'
2025-11-03 18:45:36.292 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=16, command_id=7, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:36.295 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Configure_Reporting_rsp(status_records=[ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2565), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=768)])
2025-11-03 18:45:36.302 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Failed to configure reporting for '['rms_voltage_ph_c', 'ac_frequency']' on 'electrical_measurement' cluster: [ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=2565), ConfigureReportingResponseRecord(status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, direction=<ReportingDirection.SendReports: 0>, attrid=768)]
2025-11-03 18:45:36.303 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Successfully configured reporting for 'set()' on 'electrical_measurement' cluster
2025-11-03 18:45:36.304 DEBUG (MainThread) [zha] Emitting event zha_channel_configure_reporting with data ClusterConfigureReportingEvent(cluster_name='Electrical Measurement', cluster_id=2820, attributes={'ac_voltage_multiplier': {'min': 0, 'max': 900, 'id': 'ac_voltage_multiplier', 'name': 'ac_voltage_multiplier', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'ac_voltage_divisor': {'min': 0, 'max': 900, 'id': 'ac_voltage_divisor', 'name': 'ac_voltage_divisor', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'ac_current_multiplier': {'min': 0, 'max': 900, 'id': 'ac_current_multiplier', 'name': 'ac_current_multiplier', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'ac_current_divisor': {'min': 0, 'max': 900, 'id': 'ac_current_divisor', 'name': 'ac_current_divisor', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'ac_power_multiplier': {'min': 0, 'max': 900, 'id': 'ac_power_multiplier', 'name': 'ac_power_multiplier', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'ac_power_divisor': {'min': 0, 'max': 900, 'id': 'ac_power_divisor', 'name': 'ac_power_divisor', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'power_multiplier': {'min': 0, 'max': 900, 'id': 'power_multiplier', 'name': 'power_multiplier', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'power_divisor': {'min': 0, 'max': 900, 'id': 'power_divisor', 'name': 'power_divisor', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'active_power': {'min': 5, 'max': 900, 'id': 'active_power', 'name': 'active_power', 'change': 1, 'status': 'UNREPORTABLE_ATTRIBUTE'}, 'active_power_ph_b': {'min': 5, 'max': 900, 'id': 'active_power_ph_b', 'name': 'active_power_ph_b', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'active_power_ph_c': {'min': 5, 'max': 900, 'id': 'active_power_ph_c', 'name': 'active_power_ph_c', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'total_active_power': {'min': 5, 'max': 900, 'id': 'total_active_power', 'name': 'total_active_power', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'apparent_power': {'min': 5, 'max': 900, 'id': 'apparent_power', 'name': 'apparent_power', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'rms_current': {'min': 5, 'max': 900, 'id': 'rms_current', 'name': 'rms_current', 'change': 1, 'status': 'UNREPORTABLE_ATTRIBUTE'}, 'rms_current_ph_b': {'min': 5, 'max': 900, 'id': 'rms_current_ph_b', 'name': 'rms_current_ph_b', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'rms_current_ph_c': {'min': 5, 'max': 900, 'id': 'rms_current_ph_c', 'name': 'rms_current_ph_c', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'rms_voltage': {'min': 5, 'max': 900, 'id': 'rms_voltage', 'name': 'rms_voltage', 'change': 1, 'status': 'UNREPORTABLE_ATTRIBUTE'}, 'rms_voltage_ph_b': {'min': 5, 'max': 900, 'id': 'rms_voltage_ph_b', 'name': 'rms_voltage_ph_b', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'rms_voltage_ph_c': {'min': 5, 'max': 900, 'id': 'rms_voltage_ph_c', 'name': 'rms_voltage_ph_c', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}, 'ac_frequency': {'min': 5, 'max': 900, 'id': 'ac_frequency', 'name': 'ac_frequency', 'change': 1, 'status': 'UNSUPPORTED_ATTRIBUTE'}}, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', event_type='zha_channel_message', event='zha_channel_configure_reporting') (0 listeners)
2025-11-03 18:45:36.305 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: finished cluster handler configuration
2025-11-03 18:45:36.314 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: 'async_configure' stage succeeded
2025-11-03 18:45:36.315 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: 'async_configure' stage succeeded
2025-11-03 18:45:36.315 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0003]: 'async_configure' stage succeeded
2025-11-03 18:45:36.316 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: 'async_configure' stage succeeded
2025-11-03 18:45:36.316 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: 'async_configure' stage succeeded
2025-11-03 18:45:36.330 DEBUG (MainThread) [zha] Emitting event zha_channel_cfg_done with data ClusterHandlerConfigurationComplete(device_ieee=70:b3:d5:2b:60:05:9b:d5, unique_id=70:b3:d5:2b:60:05:9b:d5, event_type='zha_channel_message', event='zha_channel_cfg_done') (0 listeners)
2025-11-03 18:45:36.330 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): completed configuration
2025-11-03 18:45:36.331 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.333 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0003] Sending request header: ZCLHeader(frame_control=FrameControl<0x01>(frame_type=<FrameType.CLUSTER_COMMAND: 1>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=True, *is_general=False), tsn=17, command_id=64, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:36.338 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0003] Sending request: trigger_effect(effect_id=<EffectIdentifier.Okay: 2>, effect_variant=<EffectVariant.Default: 0>)
2025-11-03 18:45:36.341 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 341585, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=17, profile_id=260, cluster_id=3, data=Serialized[b'\x01\x11@\x02\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:36.349 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=3, TSN=17, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x01\x11\x40\x02\x00')
2025-11-03 18:45:36.364 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:36.368 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=17)
2025-11-03 18:45:36.399 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=3, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=12527785, TSN=0, Data=b'\x18\x11\x0B\x40\x81', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:36.402 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 402862, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=3, data=Serialized[b'\x18\x11\x0b@\x81'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:45:36.406 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0003] Received ZCL frame: b'\x18\x11\x0b@\x81'
2025-11-03 18:45:36.408 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0003] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=17, command_id=11, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:36.415 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0003] Decoded ZCL frame: Identify:Default_Response(command_id=64, status=<Status.UNSUP_CLUSTER_COMMAND: 129>)
2025-11-03 18:45:36.418 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): started initialization
2025-11-03 18:45:36.425 DEBUG (MainThread) [zha.application.discovery] Discovering entities for device: 70:b3:d5:2b:60:05:9b:d5-_TZ3000_okaz9tjs TS011F
2025-11-03 18:45:36.425 DEBUG (MainThread) [zha.application.discovery] Discovering entities for endpoint: 70:b3:d5:2b:60:05:9b:d5-1
2025-11-03 18:45:36.432 DEBUG (MainThread) [zha.application.discovery] 'select' platform -> 'TuyaPowerOnStateSelectEntity' using ['on_off']
2025-11-03 18:45:36.433 DEBUG (MainThread) [zha.application.discovery] 'select' platform -> 'TuyaBacklightModeSelectEntity' using ['on_off']
2025-11-03 18:45:36.434 DEBUG (MainThread) [zha.application.discovery] 'select' platform -> 'StartupOnOffSelectEntity' using ['on_off']
2025-11-03 18:45:36.434 DEBUG (MainThread) [zha.application.discovery] 'switch' platform -> 'TuyaChildLockSwitch' using ['on_off']
2025-11-03 18:45:36.435 DEBUG (MainThread) [zha.application.discovery] Attempting to discover quirks v2 entities for device: 70:b3:d5:2b:60:05:9b:d5-_TZ3000_okaz9tjs TS011F
2025-11-03 18:45:36.436 DEBUG (MainThread) [zha.application.discovery] Device: 70:b3:d5:2b:60:05:9b:d5-_TZ3000_okaz9tjs TS011F is not a quirks v2 device - skipping discover_quirks_v2_entities
2025-11-03 18:45:36.436 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:ZDO](TS011F): 'async_initialize' stage succeeded
2025-11-03 18:45:36.439 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: initializing cluster handler: from_cache: False
2025-11-03 18:45:36.439 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: initializing cached cluster handler attributes: ['start_up_on_off', 'backlight_mode', 'power_on_state', 'child_lock']
2025-11-03 18:45:36.440 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: Reading attributes in chunks: ['start_up_on_off', 'backlight_mode', 'power_on_state', 'child_lock']
2025-11-03 18:45:36.440 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.444 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=18, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:36.447 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Sending request: Read_Attributes(attribute_ids=[16387, 32769, 32770, 32768])
2025-11-03 18:45:36.452 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 452815, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=18, profile_id=260, cluster_id=6, data=Serialized[b'\x00\x12\x00\x03@\x01\x80\x02\x80\x00\x80'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:36.459 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=6, TSN=18, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x12\x00\x03\x40\x01\x80\x02\x80\x00\x80')
2025-11-03 18:45:36.492 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:36.493 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=18)
2025-11-03 18:45:36.517 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=6, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=108, SecurityUse=<Bool.false: 0>, TimeStamp=12535083, TSN=0, Data=b'\x18\x12\x01\x03\x40\x86\x01\x80\x00\x30\x01\x02\x80\x00\x30\x02\x00\x80\x00\x10\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:36.519 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 519379, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=6, data=Serialized[b'\x18\x12\x01\x03@\x86\x01\x80\x000\x01\x02\x80\x000\x02\x00\x80\x00\x10\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=108, rssi=None)
2025-11-03 18:45:36.522 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Received ZCL frame: b'\x18\x12\x01\x03@\x86\x01\x80\x000\x01\x02\x80\x000\x02\x00\x80\x00\x10\x00'
2025-11-03 18:45:36.529 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=18, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:36.532 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame: TuyaZBOnOffAttributeCluster:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=16387, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=32769, status=<Status.SUCCESS: 0>, value=TypeValue(type=enum8, value=<enum8.undefined_0x01: 1>)), ReadAttributeRecord(attrid=32770, status=<Status.SUCCESS: 0>, value=TypeValue(type=enum8, value=<enum8.undefined_0x02: 2>)), ReadAttributeRecord(attrid=32768, status=<Status.SUCCESS: 0>, value=TypeValue(type=Bool, value=<Bool.false: 0>))])
2025-11-03 18:45:36.538 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: cluster_handler[on_off] attribute_updated - cluster[On/Off] attr[backlight_mode] value[SwitchBackLight.Mode_1]
2025-11-03 18:45:36.538 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=32769, attribute_name='backlight_mode', attribute_value=<SwitchBackLight.Mode_1: 1>, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', cluster_id=6, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (9 listeners)
2025-11-03 18:45:36.539 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SELECT: 'select'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:36.540 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SELECT: 'select'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:36.544 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: cluster_handler[on_off] attribute_updated - cluster[On/Off] attr[power_on_state] value[PowerOnState.LastState]
2025-11-03 18:45:36.544 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=32770, attribute_name='power_on_state', attribute_value=<PowerOnState.LastState: 2>, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', cluster_id=6, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (9 listeners)
2025-11-03 18:45:36.545 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SELECT: 'select'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:36.546 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SELECT: 'select'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:36.547 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: cluster_handler[on_off] attribute_updated - cluster[On/Off] attr[child_lock] value[Bool.false]
2025-11-03 18:45:36.548 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=32768, attribute_name='child_lock', attribute_value=<Bool.false: 0>, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', cluster_id=6, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (9 listeners)
2025-11-03 18:45:36.549 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SWITCH: 'switch'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-child_lock', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:36.550 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SWITCH: 'switch'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-child_lock', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:36.551 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: Got attributes: {'backlight_mode': <SwitchBackLight.Mode_1: 1>, 'power_on_state': <PowerOnState.LastState: 2>, 'child_lock': <Bool.false: 0>}
2025-11-03 18:45:36.552 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: initializing uncached cluster handler attributes: ['on_off'] - from cache[False]
2025-11-03 18:45:36.552 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: Reading attributes in chunks: ['on_off']
2025-11-03 18:45:36.553 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.560 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=19, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:36.563 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:45:36.568 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 568715, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=19, profile_id=260, cluster_id=6, data=Serialized[b'\x00\x13\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:36.579 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=6, TSN=19, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x13\x00\x00\x00')
2025-11-03 18:45:36.602 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:36.603 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=19)
2025-11-03 18:45:36.631 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=6, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12542237, TSN=0, Data=b'\x18\x13\x01\x00\x00\x00\x10\x01', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:36.634 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 634165, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=6, data=Serialized[b'\x18\x13\x01\x00\x00\x00\x10\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:36.636 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Received ZCL frame: b'\x18\x13\x01\x00\x00\x00\x10\x01'
2025-11-03 18:45:36.642 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=19, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:36.645 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame: TuyaZBOnOffAttributeCluster:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=Bool, value=<Bool.true: 1>))])
2025-11-03 18:45:36.653 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: cluster_handler[on_off] attribute_updated - cluster[On/Off] attr[on_off] value[Bool.true]
2025-11-03 18:45:36.653 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='on_off', attribute_value=<Bool.true: 1>, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', cluster_id=6, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (9 listeners)
2025-11-03 18:45:36.654 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: Got attributes: {'on_off': <Bool.true: 1>}
2025-11-03 18:45:36.655 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: finished cluster handler initialization
2025-11-03 18:45:36.656 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: initializing cluster handler: from_cache: False
2025-11-03 18:45:36.657 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: initializing cached cluster handler attributes: ['demand_formatting', 'divisor', 'metering_device_type', 'multiplier', 'summation_formatting', 'unit_of_measure']
2025-11-03 18:45:36.657 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['demand_formatting', 'divisor', 'metering_device_type', 'multiplier', 'summation_formatting']
2025-11-03 18:45:36.657 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.661 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=20, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:36.664 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[772, 774, 771])
2025-11-03 18:45:36.668 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 668453, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=20, profile_id=260, cluster_id=1794, data=Serialized[b'\x00\x14\x00\x04\x03\x06\x03\x03\x03'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:36.671 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=20, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x14\x00\x04\x03\x06\x03\x03\x03')
2025-11-03 18:45:36.695 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:36.696 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=20)
2025-11-03 18:45:36.724 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=123, SecurityUse=<Bool.false: 0>, TimeStamp=12548032, TSN=0, Data=b'\x18\x14\x01\x04\x03\x86\x06\x03\x86\x03\x03\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:36.728 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 727969, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18\x14\x01\x04\x03\x86\x06\x03\x86\x03\x03\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=123, rssi=None)
2025-11-03 18:45:36.731 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18\x14\x01\x04\x03\x86\x06\x03\x86\x03\x03\x86'
2025-11-03 18:45:36.732 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=20, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:36.738 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=772, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=774, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=771, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:36.740 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[divisor] value[100]
2025-11-03 18:45:36.741 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=770, attribute_name='divisor', attribute_value=100, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (2 listeners)
2025-11-03 18:45:36.742 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[multiplier] value[1]
2025-11-03 18:45:36.743 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=769, attribute_name='multiplier', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (2 listeners)
2025-11-03 18:45:36.744 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'divisor': 100, 'multiplier': 1}
2025-11-03 18:45:36.744 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['unit_of_measure']
2025-11-03 18:45:36.745 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.745 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[unit_of_measure] value[MeteringUnitofMeasure.Kwh_and_Kwh_binary]
2025-11-03 18:45:36.746 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=768, attribute_name='unit_of_measure', attribute_value=<MeteringUnitofMeasure.Kwh_and_Kwh_binary: 0>, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (2 listeners)
2025-11-03 18:45:36.751 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'unit_of_measure': <MeteringUnitofMeasure.Kwh_and_Kwh_binary: 0>}
2025-11-03 18:45:36.751 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: initializing uncached cluster handler attributes: ['instantaneous_demand', 'current_summ_delivered', 'current_tier1_summ_delivered', 'current_tier2_summ_delivered', 'current_tier3_summ_delivered', 'current_tier4_summ_delivered', 'current_tier5_summ_delivered', 'current_tier6_summ_delivered', 'current_summ_received', 'status'] - from cache[False]
2025-11-03 18:45:36.752 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['instantaneous_demand', 'current_summ_delivered', 'current_tier1_summ_delivered', 'current_tier2_summ_delivered', 'current_tier3_summ_delivered']
2025-11-03 18:45:36.752 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.754 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=21, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:36.759 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[1024, 0, 256, 258, 260])
2025-11-03 18:45:36.763 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 763752, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=21, profile_id=260, cluster_id=1794, data=Serialized[b'\x00\x15\x00\x00\x04\x00\x00\x00\x01\x02\x01\x04\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:36.767 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=21, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x15\x00\x00\x04\x00\x00\x00\x01\x02\x01\x04\x01')
2025-11-03 18:45:36.792 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:36.798 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=21)
2025-11-03 18:45:36.833 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=132, SecurityUse=<Bool.false: 0>, TimeStamp=12554463, TSN=0, Data=b'\x18\x15\x01\x00\x04\x86\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00\x00\x01\x86\x02\x01\x86\x04\x01\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:36.838 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 837982, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18\x15\x01\x00\x04\x86\x00\x00\x00%y\x00\x00\x00\x00\x00\x00\x01\x86\x02\x01\x86\x04\x01\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=132, rssi=None)
2025-11-03 18:45:36.846 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18\x15\x01\x00\x04\x86\x00\x00\x00%y\x00\x00\x00\x00\x00\x00\x01\x86\x02\x01\x86\x04\x01\x86'
2025-11-03 18:45:36.850 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=21, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:36.857 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1024, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121)), ReadAttributeRecord(attrid=256, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=258, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=260, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:36.864 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:45:36.865 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (2 listeners)
2025-11-03 18:45:36.866 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:36.867 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:45:36.868 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_tier4_summ_delivered', 'current_tier5_summ_delivered', 'current_tier6_summ_delivered', 'current_summ_received', 'status']
2025-11-03 18:45:36.869 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.872 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=22, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:36.876 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[262, 264, 266, 1, 512])
2025-11-03 18:45:36.888 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 888079, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=22, profile_id=260, cluster_id=1794, data=Serialized[b'\x00\x16\x00\x06\x01\x08\x01\n\x01\x01\x00\x00\x02'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:36.902 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=22, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x16\x00\x06\x01\x08\x01\x0A\x01\x01\x00\x00\x02')
2025-11-03 18:45:36.919 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:36.924 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=22)
2025-11-03 18:45:36.958 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=12562612, TSN=0, Data=b'\x18\x16\x01\x06\x01\x86\x08\x01\x86\x0A\x01\x86\x01\x00\x86\x00\x02\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:36.960 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 36, 960100, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18\x16\x01\x06\x01\x86\x08\x01\x86\n\x01\x86\x01\x00\x86\x00\x02\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:45:36.963 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18\x16\x01\x06\x01\x86\x08\x01\x86\n\x01\x86\x01\x00\x86\x00\x02\x86'
2025-11-03 18:45:36.967 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=22, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:36.971 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=262, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=264, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=266, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=512, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:36.979 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {}
2025-11-03 18:45:36.980 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Performing cluster handler specific initialization: ['instantaneous_demand', 'current_summ_delivered', 'current_tier1_summ_delivered', 'current_tier2_summ_delivered', 'current_tier3_summ_delivered', 'current_tier4_summ_delivered', 'current_tier5_summ_delivered', 'current_tier6_summ_delivered', 'current_summ_received', 'status']
2025-11-03 18:45:36.982 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: finished cluster handler initialization
2025-11-03 18:45:36.986 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0003]: initializing cluster handler: from_cache: False
2025-11-03 18:45:36.987 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0003]: finished cluster handler initialization
2025-11-03 18:45:36.989 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: initializing cluster handler: from_cache: False
2025-11-03 18:45:36.989 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: initializing cached cluster handler attributes: ['ac_frequency_divisor', 'ac_frequency_max', 'ac_frequency_multiplier', 'active_power_max', 'active_power_max_ph_b', 'active_power_max_ph_c', 'measurement_type', 'power_factor', 'power_factor_ph_b', 'power_factor_ph_c', 'rms_current_max', 'rms_current_max_ph_b', 'rms_current_max_ph_c', 'rms_voltage_max', 'rms_voltage_max_ph_b', 'rms_voltage_max_ph_c']
2025-11-03 18:45:36.990 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['ac_frequency_divisor', 'ac_frequency_max', 'ac_frequency_multiplier', 'active_power_max', 'active_power_max_ph_b']
2025-11-03 18:45:36.991 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:36.997 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=23, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:37.000 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1025, 770, 1024, 1293, 2317])
2025-11-03 18:45:37.006 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 6566, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=23, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x17\x00\x01\x04\x02\x03\x00\x04\r\x05\r\t'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:37.010 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=23, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x17\x00\x01\x04\x02\x03\x00\x04\x0D\x05\x0D\x09')
2025-11-03 18:45:37.028 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:37.034 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=23)
2025-11-03 18:45:37.066 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=123, SecurityUse=<Bool.false: 0>, TimeStamp=12569322, TSN=0, Data=b'\x18\x17\x01\x01\x04\x86\x02\x03\x86\x00\x04\x86\x0D\x05\x86\x0D\x09\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:37.069 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 69239, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x17\x01\x01\x04\x86\x02\x03\x86\x00\x04\x86\r\x05\x86\r\t\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=123, rssi=None)
2025-11-03 18:45:37.072 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x17\x01\x01\x04\x86\x02\x03\x86\x00\x04\x86\r\x05\x86\r\t\x86'
2025-11-03 18:45:37.074 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=23, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:37.079 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1025, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=770, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1024, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1293, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=2317, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:37.088 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {}
2025-11-03 18:45:37.089 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power_max_ph_c', 'measurement_type', 'power_factor', 'power_factor_ph_b', 'power_factor_ph_c']
2025-11-03 18:45:37.089 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:37.091 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=24, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:37.098 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[2573, 0, 1296, 2320, 2576])
2025-11-03 18:45:37.101 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 101385, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=24, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x18\x00\r\n\x00\x00\x10\x05\x10\t\x10\n'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:37.106 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=24, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x18\x00\x0D\x0A\x00\x00\x10\x05\x10\x09\x10\x0A')
2025-11-03 18:45:37.122 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:37.127 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=24)
2025-11-03 18:45:37.164 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12575474, TSN=0, Data=b'\x18\x18\x01\x0D\x0A\x86\x00\x00\x86\x10\x05\x86\x10\x09\x86\x10\x0A\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:37.167 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 167738, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x18\x01\r\n\x86\x00\x00\x86\x10\x05\x86\x10\t\x86\x10\n\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:37.170 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x18\x01\r\n\x86\x00\x00\x86\x10\x05\x86\x10\t\x86\x10\n\x86'
2025-11-03 18:45:37.174 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=24, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:37.177 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=2573, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=0, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1296, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=2320, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=2576, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:37.181 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {}
2025-11-03 18:45:37.182 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['rms_current_max', 'rms_current_max_ph_b', 'rms_current_max_ph_c', 'rms_voltage_max', 'rms_voltage_max_ph_b']
2025-11-03 18:45:37.182 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:37.188 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=25, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:37.191 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1290, 2314, 2570, 1287, 2311])
2025-11-03 18:45:37.195 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 195132, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=25, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x19\x00\n\x05\n\t\n\n\x07\x05\x07\t'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:37.201 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=25, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x19\x00\x0A\x05\x0A\x09\x0A\x0A\x07\x05\x07\x09')
2025-11-03 18:45:37.218 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:37.222 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=25)
2025-11-03 18:45:37.255 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=108, SecurityUse=<Bool.false: 0>, TimeStamp=12581158, TSN=0, Data=b'\x18\x19\x01\x0A\x05\x86\x0A\x09\x86\x0A\x0A\x86\x07\x05\x86\x07\x09\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:37.256 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 256826, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x19\x01\n\x05\x86\n\t\x86\n\n\x86\x07\x05\x86\x07\t\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=108, rssi=None)
2025-11-03 18:45:37.260 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x19\x01\n\x05\x86\n\t\x86\n\n\x86\x07\x05\x86\x07\t\x86'
2025-11-03 18:45:37.269 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=25, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:37.275 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1290, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=2314, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=2570, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1287, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=2311, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:37.278 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {}
2025-11-03 18:45:37.279 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['rms_voltage_max_ph_c']
2025-11-03 18:45:37.279 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:37.283 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=26, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:37.286 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[2567])
2025-11-03 18:45:37.292 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 292189, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=26, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x1a\x00\x07\n'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:37.300 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=26, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x1A\x00\x07\x0A')
2025-11-03 18:45:37.314 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:37.319 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=26)
2025-11-03 18:45:37.351 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12587225, TSN=0, Data=b'\x18\x1A\x01\x07\x0A\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:37.352 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 352506, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x1a\x01\x07\n\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:37.355 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x1a\x01\x07\n\x86'
2025-11-03 18:45:37.358 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=26, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:37.362 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=2567, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:37.365 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {}
2025-11-03 18:45:37.365 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: initializing uncached cluster handler attributes: ['ac_voltage_multiplier', 'ac_voltage_divisor', 'ac_current_multiplier', 'ac_current_divisor', 'ac_power_multiplier', 'ac_power_divisor', 'power_multiplier', 'power_divisor', 'active_power', 'active_power_ph_b', 'active_power_ph_c', 'total_active_power', 'apparent_power', 'rms_current', 'rms_current_ph_b', 'rms_current_ph_c', 'rms_voltage', 'rms_voltage_ph_b', 'rms_voltage_ph_c', 'ac_frequency'] - from cache[False]
2025-11-03 18:45:37.366 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['ac_voltage_multiplier', 'ac_voltage_divisor', 'ac_current_multiplier', 'ac_current_divisor', 'ac_power_multiplier']
2025-11-03 18:45:37.366 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:37.373 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=27, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:37.375 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1536, 1537, 1540])
2025-11-03 18:45:37.380 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 380290, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=27, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x1b\x00\x00\x06\x01\x06\x04\x06'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:37.390 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=27, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x1B\x00\x00\x06\x01\x06\x04\x06')
2025-11-03 18:45:37.411 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:37.412 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=27)
2025-11-03 18:45:37.445 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=132, SecurityUse=<Bool.false: 0>, TimeStamp=12593070, TSN=0, Data=b'\x18\x1B\x01\x00\x06\x86\x01\x06\x86\x04\x06\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:37.449 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 449024, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x1b\x01\x00\x06\x86\x01\x06\x86\x04\x06\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=132, rssi=None)
2025-11-03 18:45:37.452 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x1b\x01\x00\x06\x86\x01\x06\x86\x04\x06\x86'
2025-11-03 18:45:37.455 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=27, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:37.458 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1536, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1537, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1540, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:37.467 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[ac_current_multiplier] value[1]
2025-11-03 18:45:37.468 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1538, attribute_name='ac_current_multiplier', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (15 listeners)
2025-11-03 18:45:37.470 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[ac_current_divisor] value[1000]
2025-11-03 18:45:37.472 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1539, attribute_name='ac_current_divisor', attribute_value=1000, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (15 listeners)
2025-11-03 18:45:37.474 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'ac_current_multiplier': 1, 'ac_current_divisor': 1000}
2025-11-03 18:45:37.474 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['ac_power_divisor', 'power_multiplier', 'power_divisor', 'active_power', 'active_power_ph_b']
2025-11-03 18:45:37.475 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:37.477 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=28, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:37.480 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1541, 1026, 1027, 1291, 2315])
2025-11-03 18:45:37.484 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 484790, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=28, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x1c\x00\x05\x06\x02\x04\x03\x04\x0b\x05\x0b\t'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:37.493 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=28, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x1C\x00\x05\x06\x02\x04\x03\x04\x0B\x05\x0B\x09')
2025-11-03 18:45:37.515 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:37.516 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=28)
2025-11-03 18:45:37.549 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=120, SecurityUse=<Bool.false: 0>, TimeStamp=12599532, TSN=0, Data=b'\x18\x1C\x01\x05\x06\x86\x02\x04\x86\x03\x04\x86\x0B\x05\x00\x21\x00\x00\x0B\x09\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:37.552 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 552656, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x1c\x01\x05\x06\x86\x02\x04\x86\x03\x04\x86\x0b\x05\x00!\x00\x00\x0b\t\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=120, rssi=None)
2025-11-03 18:45:37.555 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x1c\x01\x05\x06\x86\x02\x04\x86\x03\x04\x86\x0b\x05\x00!\x00\x00\x0b\t\x86'
2025-11-03 18:45:37.557 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=28, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:37.563 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1541, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1026, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1027, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=0)), ReadAttributeRecord(attrid=2315, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:37.566 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[0]
2025-11-03 18:45:37.567 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=0, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (15 listeners)
2025-11-03 18:45:37.568 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:37.569 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 0}
2025-11-03 18:45:37.570 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power_ph_c', 'total_active_power', 'apparent_power', 'rms_current', 'rms_current_ph_b']
2025-11-03 18:45:37.570 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:37.575 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=29, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:37.577 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[2571, 772, 1295, 1288, 2312])
2025-11-03 18:45:37.581 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 581150, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=29, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x1d\x00\x0b\n\x04\x03\x0f\x05\x08\x05\x08\t'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:37.584 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=29, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x1D\x00\x0B\x0A\x04\x03\x0F\x05\x08\x05\x08\x09')
2025-11-03 18:45:37.612 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:37.613 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=29)
2025-11-03 18:45:37.642 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=12605333, TSN=0, Data=b'\x18\x1D\x01\x0B\x0A\x86\x04\x03\x86\x0F\x05\x86\x08\x05\x00\x21\x16\x00\x08\x09\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:37.645 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 645798, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x1d\x01\x0b\n\x86\x04\x03\x86\x0f\x05\x86\x08\x05\x00!\x16\x00\x08\t\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:45:37.649 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x1d\x01\x0b\n\x86\x04\x03\x86\x0f\x05\x86\x08\x05\x00!\x16\x00\x08\t\x86'
2025-11-03 18:45:37.655 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=29, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:37.659 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=2571, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=772, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1295, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=22)), ReadAttributeRecord(attrid=2312, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:37.662 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[22]
2025-11-03 18:45:37.663 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=22, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (15 listeners)
2025-11-03 18:45:37.667 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:37.668 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'rms_current': 22}
2025-11-03 18:45:37.669 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['rms_current_ph_c', 'rms_voltage', 'rms_voltage_ph_b', 'rms_voltage_ph_c', 'ac_frequency']
2025-11-03 18:45:37.670 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:45:37.675 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=30, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:45:37.677 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[2568, 1285, 2309, 2565, 768])
2025-11-03 18:45:37.693 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 693077, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=30, profile_id=260, cluster_id=2820, data=Serialized[b'\x00\x1e\x00\x08\n\x05\x05\x05\t\x05\n\x00\x03'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:45:37.701 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=30, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x1E\x00\x08\x0A\x05\x05\x05\x09\x05\x0A\x00\x03')
2025-11-03 18:45:37.717 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:45:37.721 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=30)
2025-11-03 18:45:37.757 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=12612530, TSN=0, Data=b'\x18\x1E\x01\x08\x0A\x86\x05\x05\x00\x21\xEF\x00\x05\x09\x86\x05\x0A\x86\x00\x03\x86', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:37.760 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 37, 760610, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18\x1e\x01\x08\n\x86\x05\x05\x00!\xef\x00\x05\t\x86\x05\n\x86\x00\x03\x86'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:45:37.764 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18\x1e\x01\x08\n\x86\x05\x05\x00!\xef\x00\x05\t\x86\x05\n\x86\x00\x03\x86'
2025-11-03 18:45:37.767 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=30, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:37.770 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=2568, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=239)), ReadAttributeRecord(attrid=2309, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=2565, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None), ReadAttributeRecord(attrid=768, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>, value=None)])
2025-11-03 18:45:37.778 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[239]
2025-11-03 18:45:37.778 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=239, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (15 listeners)
2025-11-03 18:45:37.780 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (0 listeners)
2025-11-03 18:45:37.783 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'rms_voltage': 239}
2025-11-03 18:45:37.783 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: finished cluster handler initialization
2025-11-03 18:45:37.785 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: initializing cluster handler: from_cache: False
2025-11-03 18:45:37.785 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: finished cluster handler initialization
2025-11-03 18:45:37.786 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: 'async_initialize' stage succeeded
2025-11-03 18:45:37.787 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: 'async_initialize' stage succeeded
2025-11-03 18:45:37.787 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0003]: 'async_initialize' stage succeeded
2025-11-03 18:45:37.787 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: 'async_initialize' stage succeeded
2025-11-03 18:45:37.788 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0000]: 'async_initialize' stage succeeded
2025-11-03 18:45:37.788 DEBUG (MainThread) [zha.application.platforms.sensor] active_power_ph_b is not supported - skipping ElectricalMeasurementActivePowerPhB entity creation
2025-11-03 18:45:37.788 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-active_power_ph_b: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f1a0>
2025-11-03 18:45:37.789 DEBUG (MainThread) [zha.application.platforms.sensor] active_power_ph_c is not supported - skipping ElectricalMeasurementActivePowerPhC entity creation
2025-11-03 18:45:37.790 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-active_power_ph_c: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f2e0>
2025-11-03 18:45:37.791 DEBUG (MainThread) [zha.application.platforms.sensor] total_active_power is not supported - skipping ElectricalMeasurementTotalActivePower entity creation
2025-11-03 18:45:37.791 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-total_active_power: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f380>
2025-11-03 18:45:37.791 DEBUG (MainThread) [zha.application.platforms.sensor] apparent_power is not supported - skipping ElectricalMeasurementApparentPower entity creation
2025-11-03 18:45:37.792 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-apparent_power: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f420>
2025-11-03 18:45:37.792 DEBUG (MainThread) [zha.application.platforms.sensor] rms_current_ph_b is not supported - skipping ElectricalMeasurementRMSCurrentPhB entity creation
2025-11-03 18:45:37.792 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current_ph_b: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f4c0>
2025-11-03 18:45:37.792 DEBUG (MainThread) [zha.application.platforms.sensor] rms_current_ph_c is not supported - skipping ElectricalMeasurementRMSCurrentPhC entity creation
2025-11-03 18:45:37.793 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current_ph_c: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f560>
2025-11-03 18:45:37.793 DEBUG (MainThread) [zha.application.platforms.sensor] rms_voltage_ph_b is not supported - skipping ElectricalMeasurementRMSVoltagePhB entity creation
2025-11-03 18:45:37.793 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage_ph_b: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f6a0>
2025-11-03 18:45:37.794 DEBUG (MainThread) [zha.application.platforms.sensor] rms_voltage_ph_c is not supported - skipping ElectricalMeasurementRMSVoltagePhC entity creation
2025-11-03 18:45:37.794 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage_ph_c: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f740>
2025-11-03 18:45:37.794 DEBUG (MainThread) [zha.application.platforms.sensor] ac_frequency is not supported - skipping ElectricalMeasurementFrequency entity creation
2025-11-03 18:45:37.795 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-ac_frequency: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f7e0>
2025-11-03 18:45:37.797 DEBUG (MainThread) [zha.application.platforms.sensor] power_factor is not supported - skipping ElectricalMeasurementPowerFactor entity creation
2025-11-03 18:45:37.798 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-power_factor: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f880>
2025-11-03 18:45:37.798 DEBUG (MainThread) [zha.application.platforms.sensor] power_factor_ph_b is not supported - skipping ElectricalMeasurementPowerFactorPhB entity creation
2025-11-03 18:45:37.798 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-power_factor_ph_b: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f920>
2025-11-03 18:45:37.799 DEBUG (MainThread) [zha.application.platforms.sensor] power_factor_ph_c is not supported - skipping ElectricalMeasurementPowerFactorPhC entity creation
2025-11-03 18:45:37.799 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820-power_factor_ph_c: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f9c0>
2025-11-03 18:45:37.799 DEBUG (MainThread) [zha.application.platforms.sensor] current_summ_received is not supported - skipping SmartEnergySummationReceived entity creation
2025-11-03 18:45:37.800 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_received: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158fa60>
2025-11-03 18:45:37.800 DEBUG (MainThread) [zha.application.platforms.select] start_up_on_off is not supported - skipping StartupOnOffSelectEntity entity creation
2025-11-03 18:45:37.801 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-6-StartUpOnOff: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff815ec0e0>
2025-11-03 18:45:37.801 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158f240>
2025-11-03 18:45:37.803 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158e8e0>
2025-11-03 18:45:37.803 DEBUG (MainThread) [zha.application.platforms.select] start_up_on_off is not supported - skipping StartupOnOffSelectEntity entity creation
2025-11-03 18:45:37.803 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-6-StartUpOnOff: Running remove callback: <function EventBase.on_event.<locals>.unsubscribe at 0xffff8158ec00>
2025-11-03 18:45:37.804 DEBUG (MainThread) [zha.zigbee.device] Discovered new entities {(<Platform.SWITCH: 'switch'>, '70:b3:d5:2b:60:05:9b:d5-1'): <zha.application.platforms.switch.Switch object at 0xffff8b0bb0e0>, (<Platform.BUTTON: 'button'>, '70:b3:d5:2b:60:05:9b:d5-1-3'): <zha.application.platforms.button.IdentifyButton object at 0xffff8243d6a0>, (<Platform.SENSOR: 'sensor'>, '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current'): <zha.application.platforms.sensor.ElectricalMeasurementRMSCurrent object at 0xffff8243dd30>, (<Platform.SENSOR: 'sensor'>, '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage'): <zha.application.platforms.sensor.ElectricalMeasurementRMSVoltage object at 0xffff8243e120>, (<Platform.SENSOR: 'sensor'>, '70:b3:d5:2b:60:05:9b:d5-1-0-rssi'): <zha.application.platforms.sensor.RSSISensor object at 0xffff8243eba0>, (<Platform.SENSOR: 'sensor'>, '70:b3:d5:2b:60:05:9b:d5-1-0-lqi'): <zha.application.platforms.sensor.LQISensor object at 0xffff8243ecf0>, (<Platform.SENSOR: 'sensor'>, '70:b3:d5:2b:60:05:9b:d5-1-2820'): <zha.application.platforms.sensor.PolledElectricalMeasurement object at 0xffff8243ee40>, (<Platform.SENSOR: 'sensor'>, '70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered'): <zha.application.platforms.sensor.PolledSmartEnergySummation object at 0xffff8243ef90>, (<Platform.SELECT: 'select'>, '70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state'): <zha.application.platforms.select.TuyaPowerOnStateSelectEntity object at 0xffff8b0ba7b0>, (<Platform.SELECT: 'select'>, '70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode'): <zha.application.platforms.select.TuyaBacklightModeSelectEntity object at 0xffff8243f0e0>, (<Platform.SWITCH: 'switch'>, '70:b3:d5:2b:60:05:9b:d5-1-child_lock'): <zha.application.platforms.switch.TuyaChildLockSwitch object at 0xffff8243f380>}
2025-11-03 18:45:37.812 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): power source: Mains
2025-11-03 18:45:37.812 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): completed initialization
2025-11-03 18:45:37.817 DEBUG (MainThread) [zha] Emitting event device_fully_initialized with data DeviceFullInitEvent(device_info=ExtendedDeviceInfoWithPairingStatus(ieee=70:b3:d5:2b:60:05:9b:d5, nwk=0x4252, manufacturer='_TZ3000_okaz9tjs', model='TS011F', name='_TZ3000_okaz9tjs TS011F', quirk_applied=True, quirk_class='zhaquirks.tuya.ts011f_plug.Plug_v2', quirk_id='tuya.plug_on_off_attributes', manufacturer_code=4660, power_source='Mains', lqi=126, rssi=None, last_seen='2025-11-03T18:45:37', available=True, device_type='Router', signature={'node_descriptor': NodeDescriptor(logical_type=<LogicalType.Router: 1>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.FullFunctionDevice|MainsPowered|RxOnWhenIdle|AllocateAddress: 142>, manufacturer_code=4660, maximum_buffer_size=108, maximum_incoming_transfer_size=0, server_mask=11264, maximum_outgoing_transfer_size=0, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=False, *is_full_function_device=True, *is_mains_powered=True, *is_receiver_on_when_idle=True, *is_router=True, *is_security_capable=False), 'endpoints': {1: {'profile_id': '0x0104', 'device_type': '0x0051', 'input_clusters': ['0x0000', '0x0003', '0x0004', '0x0005', '0x0006', '0x0702', '0x0b04', '0xe001'], 'output_clusters': []}}, 'manufacturer': '_TZ3000_okaz9tjs', 'model': 'TS011F'}, active_coordinator=False, entities={'70:b3:d5:2b:60:05:9b:d5-1': BaseEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1', migrate_unique_ids=frozenset(), platform=<Platform.SWITCH: 'switch'>, class_name='Switch', translation_key='switch', device_class=None, state_class=None, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=True, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None), '70:b3:d5:2b:60:05:9b:d5-1-3': CommandButtonEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-3', migrate_unique_ids=frozenset(), platform=<Platform.BUTTON: 'button'>, class_name='IdentifyButton', translation_key=None, device_class=<ButtonDeviceClass.IDENTIFY: 'identify'>, state_class=None, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='IdentifyClusterHandler', generic_id='cluster_handler_0x0003', endpoint_id=1, cluster=ClusterInfo(id=3, name='Identify', type='server', commands=[ZCLCommandDef(id=0x00, name='identify', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.identify'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='identify_query', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.identify_query'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='trigger_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.trigger_effect'>, is_manufacturer_specific=None)]), id='1:0x0003', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0003', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, command='identify', args=[5], kwargs={}), '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='ElectricalMeasurementRMSCurrent', translation_key=None, device_class=<SensorDeviceClass.CURRENT: 'current'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfElectricCurrent.AMPERE: 'A'>), '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='ElectricalMeasurementRMSVoltage', translation_key=None, device_class=<SensorDeviceClass.VOLTAGE: 'voltage'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfElectricPotential.VOLT: 'V'>), '70:b3:d5:2b:60:05:9b:d5-1-0-rssi': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-0-rssi', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='RSSISensor', translation_key='rssi', device_class=<SensorDeviceClass.SIGNAL_STRENGTH: 'signal_strength'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=False, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='BasicClusterHandler', generic_id='cluster_handler_0x0000', endpoint_id=1, cluster=ClusterInfo(id=0, name='Basic', type='server', commands=[ZCLCommandDef(id=0x00, name='reset_fact_default', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.reset_fact_default'>, is_manufacturer_specific=None)]), id='1:0x0000', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=None, unit='dBm'), '70:b3:d5:2b:60:05:9b:d5-1-0-lqi': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-0-lqi', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='LQISensor', translation_key='lqi', device_class=None, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=False, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='BasicClusterHandler', generic_id='cluster_handler_0x0000', endpoint_id=1, cluster=ClusterInfo(id=0, name='Basic', type='server', commands=[ZCLCommandDef(id=0x00, name='reset_fact_default', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.reset_fact_default'>, is_manufacturer_specific=None)]), id='1:0x0000', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=None, unit=None), '70:b3:d5:2b:60:05:9b:d5-1-2820': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='PolledElectricalMeasurement', translation_key=None, device_class=<SensorDeviceClass.POWER: 'power'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfPower.WATT: 'W'>), '70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='PolledSmartEnergySummation', translation_key='summation_delivered', device_class=<SensorDeviceClass.ENERGY: 'energy'>, state_class=<SensorStateClass.TOTAL_INCREASING: 'total_increasing'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='MeteringClusterHandler', generic_id='cluster_handler_0x0702', endpoint_id=1, cluster=ClusterInfo(id=1794, name='TuyaZBMeteringClusterWithUnit', type='server', commands=[ZCLCommandDef(id=0x00, name='get_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x04, name='get_snapshot', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_snapshot'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='mirror_rem', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.mirror_rem'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x06, name='mirror_report_attr_response', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.mirror_report_attr_response'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x03, name='req_fast_poll_mode', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.req_fast_poll_mode'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='req_mirror', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.req_mirror'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x05, name='take_snapshot', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.take_snapshot'>, is_manufacturer_specific=None)]), id='1:0x0702', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', status='INITIALIZED', value_attribute='instantaneous_demand')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=3, unit=<UnitOfEnergy.KILO_WATT_HOUR: 'kWh'>), '70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state': EnumSelectInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state', migrate_unique_ids=frozenset(), platform=<Platform.SELECT: 'select'>, class_name='TuyaPowerOnStateSelectEntity', translation_key='power_on_state', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, enum='TuyaPowerOnState', options=['Off', 'On', 'LastState']), '70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode': EnumSelectInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode', migrate_unique_ids=frozenset(), platform=<Platform.SELECT: 'select'>, class_name='TuyaBacklightModeSelectEntity', translation_key='backlight_mode', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, enum='TuyaBacklightMode', options=['Off', 'LightWhenOn', 'LightWhenOff']), '70:b3:d5:2b:60:05:9b:d5-1-child_lock': ConfigurableAttributeSwitchInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-child_lock', migrate_unique_ids=frozenset(), platform=<Platform.SWITCH: 'switch'>, class_name='TuyaChildLockSwitch', translation_key='child_lock', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, attribute_name='child_lock', invert_attribute_name=None, force_inverted=False, off_value=0, on_value=1)}, neighbors=[], routes=[], endpoint_names=[EndpointNameInfo(name='SMART_PLUG')], pairing_status=<DevicePairingStatus.CONFIGURED: 3>), new_join=True, event_type='zha_gateway_message', event='device_fully_initialized') (1 listeners)
2025-11-03 18:45:37.831 DEBUG (MainThread) [zha] (ZHAGatewayProxy) handling event protocol for event: DeviceFullInitEvent(device_info=ExtendedDeviceInfoWithPairingStatus(ieee=70:b3:d5:2b:60:05:9b:d5, nwk=0x4252, manufacturer='_TZ3000_okaz9tjs', model='TS011F', name='_TZ3000_okaz9tjs TS011F', quirk_applied=True, quirk_class='zhaquirks.tuya.ts011f_plug.Plug_v2', quirk_id='tuya.plug_on_off_attributes', manufacturer_code=4660, power_source='Mains', lqi=126, rssi=None, last_seen='2025-11-03T18:45:37', available=True, device_type='Router', signature={'node_descriptor': NodeDescriptor(logical_type=<LogicalType.Router: 1>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.FullFunctionDevice|MainsPowered|RxOnWhenIdle|AllocateAddress: 142>, manufacturer_code=4660, maximum_buffer_size=108, maximum_incoming_transfer_size=0, server_mask=11264, maximum_outgoing_transfer_size=0, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=False, *is_full_function_device=True, *is_mains_powered=True, *is_receiver_on_when_idle=True, *is_router=True, *is_security_capable=False), 'endpoints': {1: {'profile_id': '0x0104', 'device_type': '0x0051', 'input_clusters': ['0x0000', '0x0003', '0x0004', '0x0005', '0x0006', '0x0702', '0x0b04', '0xe001'], 'output_clusters': []}}, 'manufacturer': '_TZ3000_okaz9tjs', 'model': 'TS011F'}, active_coordinator=False, entities={'70:b3:d5:2b:60:05:9b:d5-1': BaseEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1', migrate_unique_ids=frozenset(), platform=<Platform.SWITCH: 'switch'>, class_name='Switch', translation_key='switch', device_class=None, state_class=None, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=True, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None), '70:b3:d5:2b:60:05:9b:d5-1-3': CommandButtonEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-3', migrate_unique_ids=frozenset(), platform=<Platform.BUTTON: 'button'>, class_name='IdentifyButton', translation_key=None, device_class=<ButtonDeviceClass.IDENTIFY: 'identify'>, state_class=None, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='IdentifyClusterHandler', generic_id='cluster_handler_0x0003', endpoint_id=1, cluster=ClusterInfo(id=3, name='Identify', type='server', commands=[ZCLCommandDef(id=0x00, name='identify', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.identify'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='identify_query', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.identify_query'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='trigger_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.trigger_effect'>, is_manufacturer_specific=None)]), id='1:0x0003', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0003', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, command='identify', args=[5], kwargs={}), '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='ElectricalMeasurementRMSCurrent', translation_key=None, device_class=<SensorDeviceClass.CURRENT: 'current'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfElectricCurrent.AMPERE: 'A'>), '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='ElectricalMeasurementRMSVoltage', translation_key=None, device_class=<SensorDeviceClass.VOLTAGE: 'voltage'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfElectricPotential.VOLT: 'V'>), '70:b3:d5:2b:60:05:9b:d5-1-0-rssi': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-0-rssi', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='RSSISensor', translation_key='rssi', device_class=<SensorDeviceClass.SIGNAL_STRENGTH: 'signal_strength'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=False, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='BasicClusterHandler', generic_id='cluster_handler_0x0000', endpoint_id=1, cluster=ClusterInfo(id=0, name='Basic', type='server', commands=[ZCLCommandDef(id=0x00, name='reset_fact_default', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.reset_fact_default'>, is_manufacturer_specific=None)]), id='1:0x0000', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=None, unit='dBm'), '70:b3:d5:2b:60:05:9b:d5-1-0-lqi': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-0-lqi', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='LQISensor', translation_key='lqi', device_class=None, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=False, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='BasicClusterHandler', generic_id='cluster_handler_0x0000', endpoint_id=1, cluster=ClusterInfo(id=0, name='Basic', type='server', commands=[ZCLCommandDef(id=0x00, name='reset_fact_default', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.reset_fact_default'>, is_manufacturer_specific=None)]), id='1:0x0000', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=None, unit=None), '70:b3:d5:2b:60:05:9b:d5-1-2820': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='PolledElectricalMeasurement', translation_key=None, device_class=<SensorDeviceClass.POWER: 'power'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfPower.WATT: 'W'>), '70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='PolledSmartEnergySummation', translation_key='summation_delivered', device_class=<SensorDeviceClass.ENERGY: 'energy'>, state_class=<SensorStateClass.TOTAL_INCREASING: 'total_increasing'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='MeteringClusterHandler', generic_id='cluster_handler_0x0702', endpoint_id=1, cluster=ClusterInfo(id=1794, name='TuyaZBMeteringClusterWithUnit', type='server', commands=[ZCLCommandDef(id=0x00, name='get_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x04, name='get_snapshot', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_snapshot'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='mirror_rem', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.mirror_rem'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x06, name='mirror_report_attr_response', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.mirror_report_attr_response'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x03, name='req_fast_poll_mode', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.req_fast_poll_mode'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='req_mirror', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.req_mirror'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x05, name='take_snapshot', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.take_snapshot'>, is_manufacturer_specific=None)]), id='1:0x0702', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', status='INITIALIZED', value_attribute='instantaneous_demand')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=3, unit=<UnitOfEnergy.KILO_WATT_HOUR: 'kWh'>), '70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state': EnumSelectInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state', migrate_unique_ids=frozenset(), platform=<Platform.SELECT: 'select'>, class_name='TuyaPowerOnStateSelectEntity', translation_key='power_on_state', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, enum='TuyaPowerOnState', options=['Off', 'On', 'LastState']), '70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode': EnumSelectInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode', migrate_unique_ids=frozenset(), platform=<Platform.SELECT: 'select'>, class_name='TuyaBacklightModeSelectEntity', translation_key='backlight_mode', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, enum='TuyaBacklightMode', options=['Off', 'LightWhenOn', 'LightWhenOff']), '70:b3:d5:2b:60:05:9b:d5-1-child_lock': ConfigurableAttributeSwitchInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-child_lock', migrate_unique_ids=frozenset(), platform=<Platform.SWITCH: 'switch'>, class_name='TuyaChildLockSwitch', translation_key='child_lock', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, attribute_name='child_lock', invert_attribute_name=None, force_inverted=False, off_value=0, on_value=1)}, neighbors=[], routes=[], endpoint_names=[EndpointNameInfo(name='SMART_PLUG')], pairing_status=<DevicePairingStatus.CONFIGURED: 3>), new_join=True, event_type='zha_gateway_message', event='device_fully_initialized')
2025-11-03 18:45:37.920 DEBUG (MainThread) [zha.decorators] Sleep time for periodic task: [zha.application.platforms.sensor::PollableSensor._refresh] is 32 seconds
2025-11-03 18:45:37.921 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: started polling with refresh interval of 32
2025-11-03 18:45:37.923 DEBUG (MainThread) [zha.decorators] Sleep time for periodic task: [zha.application.platforms.sensor::PollableSensor._refresh] is 32 seconds
2025-11-03 18:45:37.924 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: started polling with refresh interval of 32
2025-11-03 18:45:37.937 DEBUG (MainThread) [zha.decorators] Sleep time for periodic task: [zha.application.platforms.sensor::PollableSensor._refresh] is 42 seconds
2025-11-03 18:45:37.938 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: started polling with refresh interval of 42
2025-11-03 18:45:37.948 DEBUG (MainThread) [zha.decorators] Sleep time for periodic task: [zha.application.platforms.sensor::PollableSensor._refresh] is 38 seconds
2025-11-03 18:45:37.948 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: started polling with refresh interval of 38
2025-11-03 18:45:37.951 DEBUG (MainThread) [zha.decorators] Sleep time for periodic task: [zha.application.platforms.sensor::PollableSensor._refresh] is 32 seconds
2025-11-03 18:45:37.952 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: started polling with refresh interval of 32
2025-11-03 18:45:37.972 DEBUG (MainThread) [zha.decorators] Sleep time for periodic task: [zha.application.platforms.sensor::PollableSensor._refresh] is 35 seconds
2025-11-03 18:45:37.973 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: started polling with refresh interval of 35
2025-11-03 18:45:37.974 DEBUG (MainThread) [zha.application.helpers] listener not registered with global updater - nothing to remove: <bound method RSSISensor.update of <zha.application.platforms.sensor.RSSISensor object at 0xffff8243eba0>>
2025-11-03 18:45:37.980 DEBUG (MainThread) [zha.application.helpers] listener not registered with global updater - nothing to remove: <bound method RSSISensor.update of <zha.application.platforms.sensor.LQISensor object at 0xffff8243ecf0>>
2025-11-03 18:45:38.078 DEBUG (MainThread) [zha] Emitting event device_fully_initialized with data DeviceFullInitEvent(device_info=ExtendedDeviceInfoWithPairingStatus(ieee=70:b3:d5:2b:60:05:9b:d5, nwk=0x4252, manufacturer='_TZ3000_okaz9tjs', model='TS011F', name='_TZ3000_okaz9tjs TS011F', quirk_applied=True, quirk_class='zhaquirks.tuya.ts011f_plug.Plug_v2', quirk_id='tuya.plug_on_off_attributes', manufacturer_code=4660, power_source='Mains', lqi=126, rssi=None, last_seen='2025-11-03T18:45:37', available=True, device_type='Router', signature={'node_descriptor': NodeDescriptor(logical_type=<LogicalType.Router: 1>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.FullFunctionDevice|MainsPowered|RxOnWhenIdle|AllocateAddress: 142>, manufacturer_code=4660, maximum_buffer_size=108, maximum_incoming_transfer_size=0, server_mask=11264, maximum_outgoing_transfer_size=0, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=False, *is_full_function_device=True, *is_mains_powered=True, *is_receiver_on_when_idle=True, *is_router=True, *is_security_capable=False), 'endpoints': {1: {'profile_id': '0x0104', 'device_type': '0x0051', 'input_clusters': ['0x0000', '0x0003', '0x0004', '0x0005', '0x0006', '0x0702', '0x0b04', '0xe001'], 'output_clusters': []}}, 'manufacturer': '_TZ3000_okaz9tjs', 'model': 'TS011F'}, active_coordinator=False, entities={'70:b3:d5:2b:60:05:9b:d5-1': BaseEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1', migrate_unique_ids=frozenset(), platform=<Platform.SWITCH: 'switch'>, class_name='Switch', translation_key='switch', device_class=None, state_class=None, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=True, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None), '70:b3:d5:2b:60:05:9b:d5-1-3': CommandButtonEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-3', migrate_unique_ids=frozenset(), platform=<Platform.BUTTON: 'button'>, class_name='IdentifyButton', translation_key=None, device_class=<ButtonDeviceClass.IDENTIFY: 'identify'>, state_class=None, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='IdentifyClusterHandler', generic_id='cluster_handler_0x0003', endpoint_id=1, cluster=ClusterInfo(id=3, name='Identify', type='server', commands=[ZCLCommandDef(id=0x00, name='identify', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.identify'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='identify_query', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.identify_query'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='trigger_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.trigger_effect'>, is_manufacturer_specific=None)]), id='1:0x0003', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0003', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, command='identify', args=[5], kwargs={}), '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='ElectricalMeasurementRMSCurrent', translation_key=None, device_class=<SensorDeviceClass.CURRENT: 'current'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfElectricCurrent.AMPERE: 'A'>), '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='ElectricalMeasurementRMSVoltage', translation_key=None, device_class=<SensorDeviceClass.VOLTAGE: 'voltage'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfElectricPotential.VOLT: 'V'>), '70:b3:d5:2b:60:05:9b:d5-1-0-rssi': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-0-rssi', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='RSSISensor', translation_key='rssi', device_class=<SensorDeviceClass.SIGNAL_STRENGTH: 'signal_strength'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=False, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='BasicClusterHandler', generic_id='cluster_handler_0x0000', endpoint_id=1, cluster=ClusterInfo(id=0, name='Basic', type='server', commands=[ZCLCommandDef(id=0x00, name='reset_fact_default', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.reset_fact_default'>, is_manufacturer_specific=None)]), id='1:0x0000', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=None, unit='dBm'), '70:b3:d5:2b:60:05:9b:d5-1-0-lqi': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-0-lqi', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='LQISensor', translation_key='lqi', device_class=None, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=False, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='BasicClusterHandler', generic_id='cluster_handler_0x0000', endpoint_id=1, cluster=ClusterInfo(id=0, name='Basic', type='server', commands=[ZCLCommandDef(id=0x00, name='reset_fact_default', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.reset_fact_default'>, is_manufacturer_specific=None)]), id='1:0x0000', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=None, unit=None), '70:b3:d5:2b:60:05:9b:d5-1-2820': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='PolledElectricalMeasurement', translation_key=None, device_class=<SensorDeviceClass.POWER: 'power'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfPower.WATT: 'W'>), '70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='PolledSmartEnergySummation', translation_key='summation_delivered', device_class=<SensorDeviceClass.ENERGY: 'energy'>, state_class=<SensorStateClass.TOTAL_INCREASING: 'total_increasing'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='MeteringClusterHandler', generic_id='cluster_handler_0x0702', endpoint_id=1, cluster=ClusterInfo(id=1794, name='TuyaZBMeteringClusterWithUnit', type='server', commands=[ZCLCommandDef(id=0x00, name='get_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x04, name='get_snapshot', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_snapshot'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='mirror_rem', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.mirror_rem'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x06, name='mirror_report_attr_response', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.mirror_report_attr_response'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x03, name='req_fast_poll_mode', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.req_fast_poll_mode'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='req_mirror', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.req_mirror'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x05, name='take_snapshot', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.take_snapshot'>, is_manufacturer_specific=None)]), id='1:0x0702', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', status='INITIALIZED', value_attribute='instantaneous_demand')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=3, unit=<UnitOfEnergy.KILO_WATT_HOUR: 'kWh'>), '70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state': EnumSelectInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state', migrate_unique_ids=frozenset(), platform=<Platform.SELECT: 'select'>, class_name='TuyaPowerOnStateSelectEntity', translation_key='power_on_state', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, enum='TuyaPowerOnState', options=['Off', 'On', 'LastState']), '70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode': EnumSelectInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode', migrate_unique_ids=frozenset(), platform=<Platform.SELECT: 'select'>, class_name='TuyaBacklightModeSelectEntity', translation_key='backlight_mode', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, enum='TuyaBacklightMode', options=['Off', 'LightWhenOn', 'LightWhenOff']), '70:b3:d5:2b:60:05:9b:d5-1-child_lock': ConfigurableAttributeSwitchInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-child_lock', migrate_unique_ids=frozenset(), platform=<Platform.SWITCH: 'switch'>, class_name='TuyaChildLockSwitch', translation_key='child_lock', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, attribute_name='child_lock', invert_attribute_name=None, force_inverted=False, off_value=0, on_value=1)}, neighbors=[], routes=[], endpoint_names=[EndpointNameInfo(name='SMART_PLUG')], pairing_status=<DevicePairingStatus.INITIALIZED: 4>), new_join=False, event_type='zha_gateway_message', event='device_fully_initialized') (1 listeners)
2025-11-03 18:45:38.091 DEBUG (MainThread) [zha] (ZHAGatewayProxy) handling event protocol for event: DeviceFullInitEvent(device_info=ExtendedDeviceInfoWithPairingStatus(ieee=70:b3:d5:2b:60:05:9b:d5, nwk=0x4252, manufacturer='_TZ3000_okaz9tjs', model='TS011F', name='_TZ3000_okaz9tjs TS011F', quirk_applied=True, quirk_class='zhaquirks.tuya.ts011f_plug.Plug_v2', quirk_id='tuya.plug_on_off_attributes', manufacturer_code=4660, power_source='Mains', lqi=126, rssi=None, last_seen='2025-11-03T18:45:37', available=True, device_type='Router', signature={'node_descriptor': NodeDescriptor(logical_type=<LogicalType.Router: 1>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.FullFunctionDevice|MainsPowered|RxOnWhenIdle|AllocateAddress: 142>, manufacturer_code=4660, maximum_buffer_size=108, maximum_incoming_transfer_size=0, server_mask=11264, maximum_outgoing_transfer_size=0, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=False, *is_full_function_device=True, *is_mains_powered=True, *is_receiver_on_when_idle=True, *is_router=True, *is_security_capable=False), 'endpoints': {1: {'profile_id': '0x0104', 'device_type': '0x0051', 'input_clusters': ['0x0000', '0x0003', '0x0004', '0x0005', '0x0006', '0x0702', '0x0b04', '0xe001'], 'output_clusters': []}}, 'manufacturer': '_TZ3000_okaz9tjs', 'model': 'TS011F'}, active_coordinator=False, entities={'70:b3:d5:2b:60:05:9b:d5-1': BaseEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1', migrate_unique_ids=frozenset(), platform=<Platform.SWITCH: 'switch'>, class_name='Switch', translation_key='switch', device_class=None, state_class=None, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=True, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None), '70:b3:d5:2b:60:05:9b:d5-1-3': CommandButtonEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-3', migrate_unique_ids=frozenset(), platform=<Platform.BUTTON: 'button'>, class_name='IdentifyButton', translation_key=None, device_class=<ButtonDeviceClass.IDENTIFY: 'identify'>, state_class=None, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='IdentifyClusterHandler', generic_id='cluster_handler_0x0003', endpoint_id=1, cluster=ClusterInfo(id=3, name='Identify', type='server', commands=[ZCLCommandDef(id=0x00, name='identify', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.identify'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='identify_query', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.identify_query'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='trigger_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.trigger_effect'>, is_manufacturer_specific=None)]), id='1:0x0003', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0003', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, command='identify', args=[5], kwargs={}), '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='ElectricalMeasurementRMSCurrent', translation_key=None, device_class=<SensorDeviceClass.CURRENT: 'current'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfElectricCurrent.AMPERE: 'A'>), '70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='ElectricalMeasurementRMSVoltage', translation_key=None, device_class=<SensorDeviceClass.VOLTAGE: 'voltage'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfElectricPotential.VOLT: 'V'>), '70:b3:d5:2b:60:05:9b:d5-1-0-rssi': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-0-rssi', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='RSSISensor', translation_key='rssi', device_class=<SensorDeviceClass.SIGNAL_STRENGTH: 'signal_strength'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=False, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='BasicClusterHandler', generic_id='cluster_handler_0x0000', endpoint_id=1, cluster=ClusterInfo(id=0, name='Basic', type='server', commands=[ZCLCommandDef(id=0x00, name='reset_fact_default', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.reset_fact_default'>, is_manufacturer_specific=None)]), id='1:0x0000', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=None, unit='dBm'), '70:b3:d5:2b:60:05:9b:d5-1-0-lqi': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-0-lqi', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='LQISensor', translation_key='lqi', device_class=None, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=<EntityCategory.DIAGNOSTIC: 'diagnostic'>, entity_registry_enabled_default=False, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='BasicClusterHandler', generic_id='cluster_handler_0x0000', endpoint_id=1, cluster=ClusterInfo(id=0, name='Basic', type='server', commands=[ZCLCommandDef(id=0x00, name='reset_fact_default', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.reset_fact_default'>, is_manufacturer_specific=None)]), id='1:0x0000', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0000', status='INITIALIZED', value_attribute=None)], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=None, unit=None), '70:b3:d5:2b:60:05:9b:d5-1-2820': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='PolledElectricalMeasurement', translation_key=None, device_class=<SensorDeviceClass.POWER: 'power'>, state_class=<SensorStateClass.MEASUREMENT: 'measurement'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='ElectricalMeasurementClusterHandler', generic_id='cluster_handler_0x0b04', endpoint_id=1, cluster=ClusterInfo(id=2820, name='Electrical Measurement', type='server', commands=[ZCLCommandDef(id=0x01, name='get_measurement_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_measurement_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x00, name='get_profile_info', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile_info'>, is_manufacturer_specific=None)]), id='1:0x0b04', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', status='INITIALIZED', value_attribute='ac_voltage_multiplier')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=1, unit=<UnitOfPower.WATT: 'W'>), '70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered': SensorEntityInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered', migrate_unique_ids=frozenset(), platform=<Platform.SENSOR: 'sensor'>, class_name='PolledSmartEnergySummation', translation_key='summation_delivered', device_class=<SensorDeviceClass.ENERGY: 'energy'>, state_class=<SensorStateClass.TOTAL_INCREASING: 'total_increasing'>, entity_category=None, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='MeteringClusterHandler', generic_id='cluster_handler_0x0702', endpoint_id=1, cluster=ClusterInfo(id=1794, name='TuyaZBMeteringClusterWithUnit', type='server', commands=[ZCLCommandDef(id=0x00, name='get_profile', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_profile'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x04, name='get_snapshot', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.get_snapshot'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='mirror_rem', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.mirror_rem'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x06, name='mirror_report_attr_response', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.mirror_report_attr_response'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x03, name='req_fast_poll_mode', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.req_fast_poll_mode'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='req_mirror', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.req_mirror'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x05, name='take_snapshot', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.take_snapshot'>, is_manufacturer_specific=None)]), id='1:0x0702', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', status='INITIALIZED', value_attribute='instantaneous_demand')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, suggested_display_precision=3, unit=<UnitOfEnergy.KILO_WATT_HOUR: 'kWh'>), '70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state': EnumSelectInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-power_on_state', migrate_unique_ids=frozenset(), platform=<Platform.SELECT: 'select'>, class_name='TuyaPowerOnStateSelectEntity', translation_key='power_on_state', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, enum='TuyaPowerOnState', options=['Off', 'On', 'LastState']), '70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode': EnumSelectInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-6-backlight_mode', migrate_unique_ids=frozenset(), platform=<Platform.SELECT: 'select'>, class_name='TuyaBacklightModeSelectEntity', translation_key='backlight_mode', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, enum='TuyaBacklightMode', options=['Off', 'LightWhenOn', 'LightWhenOff']), '70:b3:d5:2b:60:05:9b:d5-1-child_lock': ConfigurableAttributeSwitchInfo(fallback_name=None, unique_id='70:b3:d5:2b:60:05:9b:d5-1-child_lock', migrate_unique_ids=frozenset(), platform=<Platform.SWITCH: 'switch'>, class_name='TuyaChildLockSwitch', translation_key='child_lock', device_class=None, state_class=None, entity_category=<EntityCategory.CONFIG: 'config'>, entity_registry_enabled_default=True, enabled=True, primary=False, cluster_handlers=[ClusterHandlerInfo(class_name='OnOffClusterHandler', generic_id='cluster_handler_0x0006', endpoint_id=1, cluster=ClusterInfo(id=6, name='On/Off', type='server', commands=[ZCLCommandDef(id=0x00, name='off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x40, name='off_with_effect', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.off_with_effect'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x01, name='on', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x41, name='on_with_recall_global_scene', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_recall_global_scene'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x42, name='on_with_timed_off', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.on_with_timed_off'>, is_manufacturer_specific=None), ZCLCommandDef(id=0x02, name='toggle', direction=<Direction.Server_to_Client: 1>, schema=<class 'zigpy.zcl.foundation.toggle'>, is_manufacturer_specific=None)]), id='1:0x0006', unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', status='INITIALIZED', value_attribute='on_off')], device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, available=True, group_id=None, attribute_name='child_lock', invert_attribute_name=None, force_inverted=False, off_value=0, on_value=1)}, neighbors=[], routes=[], endpoint_names=[EndpointNameInfo(name='SMART_PLUG')], pairing_status=<DevicePairingStatus.INITIALIZED: 4>), new_join=False, event_type='zha_gateway_message', event='device_fully_initialized')
2025-11-03 18:45:41.081 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=6, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=12820631, TSN=0, Data=b'\x18\x01\x0A\x00\x00\x10\x01', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:41.083 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 41, 83522, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=6, data=Serialized[b'\x18\x01\n\x00\x00\x10\x01'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:45:41.087 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Received ZCL frame: b'\x18\x01\n\x00\x00\x10\x01'
2025-11-03 18:45:41.090 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=1, command_id=10, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:41.096 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Decoded ZCL frame: TuyaZBOnOffAttributeCluster:Report_Attributes(attribute_reports=[Attribute(attrid=0x0000, value=TypeValue(type=Bool, value=<Bool.true: 1>))])
2025-11-03 18:45:41.099 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Received command 0x0A (TSN 1): Report_Attributes(attribute_reports=[Attribute(attrid=0x0000, value=TypeValue(type=Bool, value=<Bool.true: 1>))])
2025-11-03 18:45:41.104 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0006] Attribute report received: on_off=<Bool.true: 1>
2025-11-03 18:45:41.105 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0006]: cluster_handler[on_off] attribute_updated - cluster[On/Off] attr[on_off] value[Bool.true]
2025-11-03 18:45:41.106 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='on_off', attribute_value=<Bool.true: 1>, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0006', cluster_id=6, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (5 listeners)
2025-11-03 18:45:41.115 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=57345, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=12821051, TSN=0, Data=b'\x18\x02\x0A\x10\xD0\x30\x02', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:45:41.122 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 45, 41, 122579, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=57345, data=Serialized[b'\x18\x02\n\x10\xd00\x02'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:45:41.128 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0xe001] Received ZCL frame: b'\x18\x02\n\x10\xd00\x02'
2025-11-03 18:45:41.131 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0xe001] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=2, command_id=10, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:45:41.136 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0xe001] Decoded ZCL frame: TuyaZBExternalSwitchTypeCluster:Report_Attributes(attribute_reports=[Attribute(attrid=0xD010, value=TypeValue(type=enum8, value=<enum8.undefined_0x02: 2>))])
2025-11-03 18:45:41.140 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0xe001] Received command 0x0A (TSN 2): Report_Attributes(attribute_reports=[Attribute(attrid=0xD010, value=TypeValue(type=enum8, value=<enum8.undefined_0x02: 2>))])
2025-11-03 18:45:41.143 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0xe001] Attribute report received: 0xD010=<enum8.undefined_0x02: 2>
2025-11-03 18:45:41.144 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0xe001]: cluster_handler[tuya_external_switch_type] attribute_updated - cluster[Tuya External Switch Type Cluster] attr[53264] value[enum8.undefined_0x02]
2025-11-03 18:45:41.145 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=53264, attribute_name=53264, attribute_value=<enum8.undefined_0x02: 2>, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0xe001', cluster_id=57345, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (0 listeners)
2025-11-03 18:45:45.275 DEBUG (MainThread) [zigpy.application] Feeding watchdog
2025-11-03 18:45:45.277 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2025-11-03 18:45:45.284 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.SYS|AF|ZDO|UTIL|GP|APP_CNF: 1625>)
2025-11-03 18:45:50.874 DEBUG (MainThread) [zha.decorators] [<Task pending name='device-availability-checker_DeviceAvailabilityChecker' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::DeviceAvailabilityChecker.check_device_availability]
2025-11-03 18:45:50.875 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval starting
2025-11-03 18:45:50.876 DEBUG (MainThread) [zha.application.helpers] Checking device availability
2025-11-03 18:45:50.876 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): Device seen - marking the device available and resetting counter
2025-11-03 18:45:50.877 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): Update device availability -  device available: True - new availability: True - changed: False
2025-11-03 18:45:50.877 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval finished
2025-11-03 18:45:50.878 DEBUG (MainThread) [zha.decorators] [<Task pending name='global-updater_GlobalUpdater' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::GlobalUpdater.update_listeners]
2025-11-03 18:45:50.879 DEBUG (MainThread) [zha.application.helpers] Global updater interval starting
2025-11-03 18:45:50.879 DEBUG (MainThread) [zha.application.helpers] Global updater interval finished
2025-11-03 18:46:06.068 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:06.069 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:46:06.070 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:46:06.071 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:46:06.071 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:46:06.072 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:06.078 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=31, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:06.081 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:46:06.089 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 6, 89660, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=31, profile_id=260, cluster_id=1794, data=Serialized[b'\x00\x1f\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:06.095 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=31, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x1F\x00\x00\x00')
2025-11-03 18:46:06.112 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:06.119 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=31)
2025-11-03 18:46:06.150 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=14387098, TSN=0, Data=b'\x18\x1F\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:06.154 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 6, 154173, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18\x1f\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:46:06.162 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18\x1f\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'
2025-11-03 18:46:06.165 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=31, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:06.172 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:46:06.176 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:46:06.177 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:46:06.178 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:46:08.066 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:08.067 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:46:08.068 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:46:08.068 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:46:08.069 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:46:08.070 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:08.076 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=32, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:08.081 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:46:08.088 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 8, 88023, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=32, profile_id=260, cluster_id=2820, data=Serialized[b'\x00 \x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:08.092 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=32, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x20\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:46:08.113 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:08.118 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=32)
2025-11-03 18:46:08.148 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=14511939, TSN=0, Data=b'\x18\x20\x01\x0B\x05\x00\x21\x01\x00\x08\x05\x00\x21\x10\x00\x05\x05\x00\x21\xF3\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:08.152 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 8, 151952, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18 \x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x10\x00\x05\x05\x00!\xf3\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:46:08.156 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18 \x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x10\x00\x05\x05\x00!\xf3\x00'
2025-11-03 18:46:08.160 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=32, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:08.166 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=1)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=16)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=243))])
2025-11-03 18:46:08.172 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[1]
2025-11-03 18:46:08.172 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:08.174 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (1 listeners)
2025-11-03 18:46:08.175 DEBUG (MainThread) [homeassistant.components.zha.entity] sensor.tz3000_okaz9tjs_ts011f_puissance: Handling event from entity: EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None)
2025-11-03 18:46:08.178 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[16]
2025-11-03 18:46:08.178 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=16, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:08.179 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (1 listeners)
2025-11-03 18:46:08.180 DEBUG (MainThread) [homeassistant.components.zha.entity] sensor.tz3000_okaz9tjs_ts011f_courant: Handling event from entity: EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None)
2025-11-03 18:46:08.184 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[243]
2025-11-03 18:46:08.184 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=243, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:08.185 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (1 listeners)
2025-11-03 18:46:08.186 DEBUG (MainThread) [homeassistant.components.zha.entity] sensor.tz3000_okaz9tjs_ts011f_tension: Handling event from entity: EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None)
2025-11-03 18:46:08.188 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 1, 'rms_current': 16, 'rms_voltage': 243}
2025-11-03 18:46:09.923 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:09.924 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:46:09.925 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:46:09.926 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:46:09.926 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:46:09.927 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:09.932 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=33, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:09.936 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:46:09.939 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:09.942 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 9, 942059, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=33, profile_id=260, cluster_id=2820, data=Serialized[b'\x00!\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:09.945 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:09.948 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=33, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x21\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:46:09.952 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:09.953 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:46:09.954 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:46:09.957 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:46:09.958 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:46:09.959 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:09.964 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=34, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:09.968 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:46:09.971 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:09.973 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 9, 973575, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=34, profile_id=260, cluster_id=2820, data=Serialized[b'\x00"\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:09.974 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:09.981 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:09.982 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:46:09.982 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:46:09.989 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:09.990 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=33)
2025-11-03 18:46:09.991 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:46:09.992 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:46:09.992 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:10.004 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=35, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:10.008 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:46:10.010 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:10.013 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 10, 13845, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=35, profile_id=260, cluster_id=1794, data=Serialized[b'\x00#\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:10.014 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:10.022 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=34, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x22\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:46:10.025 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=14628172, TSN=0, Data=b'\x18\x21\x01\x0B\x05\x00\x21\x00\x00\x08\x05\x00\x21\x16\x00\x05\x05\x00\x21\xF3\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:10.027 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 10, 27105, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18!\x01\x0b\x05\x00!\x00\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf3\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:46:10.029 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18!\x01\x0b\x05\x00!\x00\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf3\x00'
2025-11-03 18:46:10.032 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=33, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:10.034 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=0)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=22)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=243))])
2025-11-03 18:46:10.042 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[0]
2025-11-03 18:46:10.042 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=0, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:10.043 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (1 listeners)
2025-11-03 18:46:10.043 DEBUG (MainThread) [homeassistant.components.zha.entity] sensor.tz3000_okaz9tjs_ts011f_puissance: Handling event from entity: EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None)
2025-11-03 18:46:10.045 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[22]
2025-11-03 18:46:10.045 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=22, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:10.045 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (1 listeners)
2025-11-03 18:46:10.049 DEBUG (MainThread) [homeassistant.components.zha.entity] sensor.tz3000_okaz9tjs_ts011f_courant: Handling event from entity: EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None)
2025-11-03 18:46:10.051 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[243]
2025-11-03 18:46:10.051 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=243, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:10.052 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 0, 'rms_current': 22, 'rms_voltage': 243}
2025-11-03 18:46:10.054 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:10.055 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=34)
2025-11-03 18:46:10.059 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=35, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x23\x00\x00\x00')
2025-11-03 18:46:10.078 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=14632499, TSN=0, Data=b'\x18\x22\x01\x0B\x05\x00\x21\x00\x00\x08\x05\x00\x21\x16\x00\x05\x05\x00\x21\xF3\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:10.079 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 10, 79873, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18"\x01\x0b\x05\x00!\x00\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf3\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:46:10.082 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18"\x01\x0b\x05\x00!\x00\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf3\x00'
2025-11-03 18:46:10.083 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=34, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:10.087 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=0)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=22)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=243))])
2025-11-03 18:46:10.089 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:10.090 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=35)
2025-11-03 18:46:10.095 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[0]
2025-11-03 18:46:10.095 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=0, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:10.096 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[22]
2025-11-03 18:46:10.096 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=22, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:10.097 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[243]
2025-11-03 18:46:10.098 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=243, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:10.098 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 0, 'rms_current': 22, 'rms_voltage': 243}
2025-11-03 18:46:10.129 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=14635515, TSN=0, Data=b'\x18\x23\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:10.131 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 10, 131217, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18#\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:46:10.134 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18#\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'
2025-11-03 18:46:10.136 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=35, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:10.139 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:46:10.141 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:46:10.142 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:46:10.143 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:46:12.975 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:12.977 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:46:12.977 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:46:12.978 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:46:12.979 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:46:12.979 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:12.985 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=36, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:12.990 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:46:12.993 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:12.998 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 12, 997949, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=36, profile_id=260, cluster_id=1794, data=Serialized[b'\x00$\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:12.999 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:13.003 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=36, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x24\x00\x00\x00')
2025-11-03 18:46:13.023 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:13.024 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=36)
2025-11-03 18:46:13.056 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=14818826, TSN=0, Data=b'\x18\x24\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:13.060 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 13, 60173, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18$\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:46:13.064 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18$\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'
2025-11-03 18:46:13.067 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=36, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:13.074 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:46:13.077 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:46:13.078 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:46:13.079 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:46:15.289 DEBUG (MainThread) [zigpy.application] Feeding watchdog
2025-11-03 18:46:15.291 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2025-11-03 18:46:15.299 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.SYS|AF|ZDO|UTIL|GP|APP_CNF: 1625>)
2025-11-03 18:46:15.950 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:15.951 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:46:15.952 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:46:15.952 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:46:15.953 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:46:15.954 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:15.959 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=37, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:15.962 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:46:15.966 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:15.968 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 15, 968525, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=37, profile_id=260, cluster_id=1794, data=Serialized[b'\x00%\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:15.973 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:15.977 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=37, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x25\x00\x00\x00')
2025-11-03 18:46:15.998 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:16.000 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=37)
2025-11-03 18:46:16.035 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=15004940, TSN=0, Data=b'\x18\x25\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:16.039 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 16, 39125, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18%\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:46:16.043 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18%\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'
2025-11-03 18:46:16.047 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=37, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:16.052 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:46:16.058 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:46:16.059 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:46:16.060 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:46:19.938 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:19.940 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:46:19.940 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:46:19.941 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:46:19.942 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:46:19.942 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:19.948 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=38, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:19.953 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:46:19.956 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:19.961 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 19, 961808, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=38, profile_id=260, cluster_id=2820, data=Serialized[b'\x00&\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:19.963 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:19.969 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=38, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x26\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:46:19.988 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:19.992 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=38)
2025-11-03 18:46:20.024 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=105, SecurityUse=<Bool.false: 0>, TimeStamp=15254211, TSN=0, Data=b'\x18\x26\x01\x0B\x05\x00\x21\x01\x00\x08\x05\x00\x21\x16\x00\x05\x05\x00\x21\xF4\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:20.026 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 20, 26166, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18&\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=105, rssi=None)
2025-11-03 18:46:20.030 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18&\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'
2025-11-03 18:46:20.034 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=38, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:20.040 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=1)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=22)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=244))])
2025-11-03 18:46:20.046 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[1]
2025-11-03 18:46:20.047 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:20.048 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (1 listeners)
2025-11-03 18:46:20.049 DEBUG (MainThread) [homeassistant.components.zha.entity] sensor.tz3000_okaz9tjs_ts011f_puissance: Handling event from entity: EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None)
2025-11-03 18:46:20.054 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[22]
2025-11-03 18:46:20.055 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=22, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:20.057 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[244]
2025-11-03 18:46:20.060 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=244, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:20.061 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (1 listeners)
2025-11-03 18:46:20.062 DEBUG (MainThread) [homeassistant.components.zha.entity] sensor.tz3000_okaz9tjs_ts011f_tension: Handling event from entity: EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_voltage', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None)
2025-11-03 18:46:20.065 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 1, 'rms_current': 22, 'rms_voltage': 244}
2025-11-03 18:46:20.880 DEBUG (MainThread) [zha.decorators] [<Task pending name='global-updater_GlobalUpdater' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::GlobalUpdater.update_listeners]
2025-11-03 18:46:20.881 DEBUG (MainThread) [zha.application.helpers] Global updater interval starting
2025-11-03 18:46:20.882 DEBUG (MainThread) [zha.application.helpers] Global updater interval finished
2025-11-03 18:46:25.880 DEBUG (MainThread) [zha.decorators] [<Task pending name='device-availability-checker_DeviceAvailabilityChecker' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::DeviceAvailabilityChecker.check_device_availability]
2025-11-03 18:46:25.881 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval starting
2025-11-03 18:46:25.881 DEBUG (MainThread) [zha.application.helpers] Checking device availability
2025-11-03 18:46:25.882 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): Device seen - marking the device available and resetting counter
2025-11-03 18:46:25.882 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): Update device availability -  device available: True - new availability: True - changed: False
2025-11-03 18:46:25.883 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval finished
2025-11-03 18:46:37.184 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:37.185 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:46:37.186 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:46:37.186 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:46:37.187 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:46:37.188 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:37.194 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=39, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:37.197 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:46:37.204 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 37, 204058, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=39, profile_id=260, cluster_id=1794, data=Serialized[b"\x00'\x00\x00\x00"], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:37.209 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=39, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x27\x00\x00\x00')
2025-11-03 18:46:37.230 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:37.232 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=39)
2025-11-03 18:46:37.254 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SrcRtgInd.Callback(DstAddr=0x4252, Relays=[])
2025-11-03 18:46:37.271 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=603557, TSN=0, Data=b'\x18\x27\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:37.275 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 37, 275013, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b"\x18'\x01\x00\x00\x00%y\x00\x00\x00\x00\x00"], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:46:37.280 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b"\x18'\x01\x00\x00\x00%y\x00\x00\x00\x00\x00"
2025-11-03 18:46:37.282 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=39, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:37.289 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:46:37.295 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:46:37.296 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:46:37.297 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:46:41.200 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:41.201 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:46:41.201 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:46:41.202 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:46:41.202 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:46:41.203 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:41.205 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=40, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:41.209 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:46:41.214 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 41, 214257, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=40, profile_id=260, cluster_id=2820, data=Serialized[b'\x00(\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:41.217 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=40, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x28\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:46:41.239 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:41.243 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=40)
2025-11-03 18:46:41.276 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=105, SecurityUse=<Bool.false: 0>, TimeStamp=853854, TSN=0, Data=b'\x18\x28\x01\x0B\x05\x00\x21\x01\x00\x08\x05\x00\x21\x10\x00\x05\x05\x00\x21\xF4\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:41.279 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 41, 279208, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18(\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x10\x00\x05\x05\x00!\xf4\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=105, rssi=None)
2025-11-03 18:46:41.282 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18(\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x10\x00\x05\x05\x00!\xf4\x00'
2025-11-03 18:46:41.284 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=40, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:41.288 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=1)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=16)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=244))])
2025-11-03 18:46:41.293 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[1]
2025-11-03 18:46:41.293 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:41.295 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[16]
2025-11-03 18:46:41.297 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=16, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:41.298 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (1 listeners)
2025-11-03 18:46:41.299 DEBUG (MainThread) [homeassistant.components.zha.entity] sensor.tz3000_okaz9tjs_ts011f_courant: Handling event from entity: EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None)
2025-11-03 18:46:41.302 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[244]
2025-11-03 18:46:41.303 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=244, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:41.304 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 1, 'rms_current': 16, 'rms_voltage': 244}
2025-11-03 18:46:42.061 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:42.063 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:46:42.063 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:46:42.068 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:46:42.069 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:46:42.070 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:42.075 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=41, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:42.083 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:46:42.086 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:42.089 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 42, 89484, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=41, profile_id=260, cluster_id=2820, data=Serialized[b'\x00)\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:42.090 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:42.095 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=41, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x29\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:46:42.102 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:42.103 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:46:42.103 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:46:42.106 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:46:42.107 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:46:42.108 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:42.110 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=42, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:42.113 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:46:42.115 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:42.117 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 42, 117094, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=42, profile_id=260, cluster_id=2820, data=Serialized[b'\x00*\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:42.119 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:42.129 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:42.130 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=41)
2025-11-03 18:46:42.133 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=42, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x2A\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:46:42.158 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=908601, TSN=0, Data=b'\x18\x29\x01\x0B\x05\x00\x21\x01\x00\x08\x05\x00\x21\x10\x00\x05\x05\x00\x21\xF4\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:42.159 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:42.161 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 42, 161005, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18)\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x10\x00\x05\x05\x00!\xf4\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:46:42.164 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18)\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x10\x00\x05\x05\x00!\xf4\x00'
2025-11-03 18:46:42.170 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=41, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:42.175 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=1)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=16)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=244))])
2025-11-03 18:46:42.177 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:42.178 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:46:42.179 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:46:42.185 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=42)
2025-11-03 18:46:42.187 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[1]
2025-11-03 18:46:42.188 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:42.189 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[16]
2025-11-03 18:46:42.189 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=16, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:42.192 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[244]
2025-11-03 18:46:42.193 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=244, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:42.194 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 1, 'rms_current': 16, 'rms_voltage': 244}
2025-11-03 18:46:42.195 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:46:42.195 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:46:42.196 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:42.204 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=43, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:42.210 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:46:42.212 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:42.215 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 42, 214983, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=43, profile_id=260, cluster_id=1794, data=Serialized[b'\x00+\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:42.216 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:42.227 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=43, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x2B\x00\x00\x00')
2025-11-03 18:46:42.233 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=120, SecurityUse=<Bool.false: 0>, TimeStamp=911599, TSN=0, Data=b'\x18\x2A\x01\x0B\x05\x00\x21\x01\x00\x08\x05\x00\x21\x10\x00\x05\x05\x00\x21\xF4\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:42.236 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 42, 236045, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18*\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x10\x00\x05\x05\x00!\xf4\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=120, rssi=None)
2025-11-03 18:46:42.239 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18*\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x10\x00\x05\x05\x00!\xf4\x00'
2025-11-03 18:46:42.243 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=42, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:42.247 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=1)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=16)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=244))])
2025-11-03 18:46:42.256 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[1]
2025-11-03 18:46:42.256 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:42.257 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[16]
2025-11-03 18:46:42.258 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=16, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:42.258 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[244]
2025-11-03 18:46:42.259 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=244, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:46:42.259 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 1, 'rms_current': 16, 'rms_voltage': 244}
2025-11-03 18:46:42.264 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:42.266 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=43)
2025-11-03 18:46:42.295 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=120, SecurityUse=<Bool.false: 0>, TimeStamp=916718, TSN=0, Data=b'\x18\x2B\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:42.305 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 42, 305235, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18+\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=120, rssi=None)
2025-11-03 18:46:42.308 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18+\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'
2025-11-03 18:46:42.311 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=43, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:42.318 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:46:42.321 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:46:42.322 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:46:42.323 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:46:45.301 DEBUG (MainThread) [zigpy.application] Feeding watchdog
2025-11-03 18:46:45.302 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2025-11-03 18:46:45.309 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.SYS|AF|ZDO|UTIL|GP|APP_CNF: 1625>)
2025-11-03 18:46:48.082 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:48.083 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:46:48.083 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:46:48.084 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:46:48.085 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:46:48.085 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:48.090 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=44, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:48.094 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:46:48.097 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:48.100 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 48, 100136, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=44, profile_id=260, cluster_id=1794, data=Serialized[b'\x00,\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:48.102 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:48.106 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=44, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x2C\x00\x00\x00')
2025-11-03 18:46:48.128 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:48.130 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=44)
2025-11-03 18:46:48.159 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=111, SecurityUse=<Bool.false: 0>, TimeStamp=1284063, TSN=0, Data=b'\x18\x2C\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:48.163 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 48, 163132, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18,\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=111, rssi=None)
2025-11-03 18:46:48.167 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18,\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'
2025-11-03 18:46:48.171 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=44, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:48.176 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:46:48.184 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:46:48.184 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:46:48.185 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:46:50.884 DEBUG (MainThread) [zha.decorators] [<Task pending name='global-updater_GlobalUpdater' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::GlobalUpdater.update_listeners]
2025-11-03 18:46:50.885 DEBUG (MainThread) [zha.application.helpers] Global updater interval starting
2025-11-03 18:46:50.886 DEBUG (MainThread) [zha.application.helpers] Global updater interval finished
2025-11-03 18:46:54.069 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:46:54.070 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:46:54.070 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:46:54.071 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:46:54.072 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:46:54.072 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:46:54.077 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=45, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:46:54.081 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:46:54.084 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:54.087 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 54, 87186, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=45, profile_id=260, cluster_id=1794, data=Serialized[b'\x00-\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:46:54.090 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:46:54.094 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=45, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x2D\x00\x00\x00')
2025-11-03 18:46:54.111 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:46:54.115 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=45)
2025-11-03 18:46:54.148 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=1658400, TSN=0, Data=b'\x18\x2D\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:46:54.151 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 46, 54, 151775, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18-\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:46:54.158 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18-\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'
2025-11-03 18:46:54.161 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=45, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:46:54.166 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:46:54.170 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:46:54.171 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:46:54.171 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:47:00.886 DEBUG (MainThread) [zha.decorators] [<Task pending name='device-availability-checker_DeviceAvailabilityChecker' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::DeviceAvailabilityChecker.check_device_availability]
2025-11-03 18:47:00.887 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval starting
2025-11-03 18:47:00.887 DEBUG (MainThread) [zha.application.helpers] Checking device availability
2025-11-03 18:47:00.888 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): Device seen - marking the device available and resetting counter
2025-11-03 18:47:00.888 DEBUG (MainThread) [zha.zigbee.device] [0x4252](TS011F): Update device availability -  device available: True - new availability: True - changed: False
2025-11-03 18:47:00.889 DEBUG (MainThread) [zha.application.helpers] Device availability checker interval finished
2025-11-03 18:47:02.086 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:47:02.087 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:47:02.088 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:47:02.089 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:47:02.089 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:47:02.090 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:47:02.095 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=46, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:47:02.099 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:47:02.102 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:47:02.105 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 2, 104886, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=46, profile_id=260, cluster_id=2820, data=Serialized[b'\x00.\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:47:02.107 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:47:02.111 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=46, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x2E\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:47:02.132 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:47:02.133 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=46)
2025-11-03 18:47:02.168 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=105, SecurityUse=<Bool.false: 0>, TimeStamp=2159583, TSN=0, Data=b'\x18\x2E\x01\x0B\x05\x00\x21\x01\x00\x08\x05\x00\x21\x16\x00\x05\x05\x00\x21\xF4\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:47:02.172 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 2, 172116, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x18.\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=105, rssi=None)
2025-11-03 18:47:02.176 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x18.\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'
2025-11-03 18:47:02.181 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=46, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:47:02.187 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=1)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=22)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=244))])
2025-11-03 18:47:02.197 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[1]
2025-11-03 18:47:02.198 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:02.199 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[22]
2025-11-03 18:47:02.200 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=22, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:02.201 DEBUG (MainThread) [zha] Emitting event state_changed with data EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None) (1 listeners)
2025-11-03 18:47:02.202 DEBUG (MainThread) [homeassistant.components.zha.entity] sensor.tz3000_okaz9tjs_ts011f_courant: Handling event from entity: EntityStateChangedEvent(event_type='entity', event='state_changed', platform=<Platform.SENSOR: 'sensor'>, unique_id='70:b3:d5:2b:60:05:9b:d5-1-2820-rms_current', device_ieee=70:b3:d5:2b:60:05:9b:d5, endpoint_id=1, group_id=None)
2025-11-03 18:47:02.204 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[244]
2025-11-03 18:47:02.205 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=244, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:02.206 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 1, 'rms_current': 22, 'rms_voltage': 244}
2025-11-03 18:47:08.304 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:47:08.306 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:47:08.306 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:47:08.307 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:47:08.307 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:47:08.308 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:47:08.313 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=47, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:47:08.317 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:47:08.322 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 8, 322825, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=47, profile_id=260, cluster_id=1794, data=Serialized[b'\x00/\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:47:08.328 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=47, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x2F\x00\x00\x00')
2025-11-03 18:47:08.348 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:47:08.350 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=47)
2025-11-03 18:47:08.382 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=126, SecurityUse=<Bool.false: 0>, TimeStamp=2547998, TSN=0, Data=b'\x18\x2F\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:47:08.384 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 8, 383974, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x18/\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=126, rssi=None)
2025-11-03 18:47:08.387 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x18/\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'
2025-11-03 18:47:08.392 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=47, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:47:08.397 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:47:08.401 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:47:08.405 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:47:08.406 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:47:14.238 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:47:14.239 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:47:14.240 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:47:14.240 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:47:14.241 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:47:14.242 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:47:14.247 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=48, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:47:14.250 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:47:14.254 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:47:14.256 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 14, 256581, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=48, profile_id=260, cluster_id=2820, data=Serialized[b'\x000\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:47:14.259 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:47:14.263 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=48, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x30\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:47:14.273 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:47:14.274 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:47:14.274 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:47:14.275 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:47:14.276 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:47:14.276 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:47:14.282 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=49, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:47:14.289 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:47:14.291 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:47:14.295 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 14, 295626, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=49, profile_id=260, cluster_id=2820, data=Serialized[b'\x001\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:47:14.296 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:47:14.306 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:47:14.307 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=48)
2025-11-03 18:47:14.313 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=49, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x31\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:47:14.321 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-2820_PolledElectricalMeasurement' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:47:14.322 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling for updated state
2025-11-03 18:47:14.323 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-2820: polling current state
2025-11-03 18:47:14.326 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=2919072, TSN=0, Data=b'\x18\x30\x01\x0B\x05\x00\x21\x01\x00\x08\x05\x00\x21\x16\x00\x05\x05\x00\x21\xF4\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:47:14.327 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: async_update
2025-11-03 18:47:14.328 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Reading attributes in chunks: ['active_power', 'rms_current', 'rms_voltage']
2025-11-03 18:47:14.329 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:47:14.334 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=50, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:47:14.339 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Sending request: Read_Attributes(attribute_ids=[1291, 1288, 1285])
2025-11-03 18:47:14.346 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 14, 346327, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=50, profile_id=260, cluster_id=2820, data=Serialized[b'\x002\x00\x0b\x05\x08\x05\x05\x05'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:47:14.350 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 14, 350525, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x180\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:47:14.357 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x180\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'
2025-11-03 18:47:14.359 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=48, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:47:14.367 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=1)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=22)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=244))])
2025-11-03 18:47:14.376 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[1]
2025-11-03 18:47:14.376 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:14.378 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[22]
2025-11-03 18:47:14.379 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=22, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:14.380 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[244]
2025-11-03 18:47:14.382 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=244, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:14.383 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 1, 'rms_current': 22, 'rms_voltage': 244}
2025-11-03 18:47:14.387 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:47:14.389 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=49)
2025-11-03 18:47:14.391 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=2922169, TSN=0, Data=b'\x18\x31\x01\x0B\x05\x00\x21\x01\x00\x08\x05\x00\x21\x16\x00\x05\x05\x00\x21\xF4\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:47:14.399 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 14, 398972, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x181\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:47:14.404 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x181\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'
2025-11-03 18:47:14.408 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=49, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:47:14.415 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=1)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=22)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=244))])
2025-11-03 18:47:14.418 DEBUG (MainThread) [zha.decorators] [<Task pending name='sensor_state_poller_70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered_PolledSmartEnergySummation' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.platforms.sensor::PollableSensor._refresh]
2025-11-03 18:47:14.418 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling for updated state
2025-11-03 18:47:14.419 DEBUG (MainThread) [zha.application.platforms] 70:b3:d5:2b:60:05:9b:d5-1-1794-summation_delivered: polling current state
2025-11-03 18:47:14.425 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=2820, TSN=50, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x32\x00\x0B\x05\x08\x05\x05\x05')
2025-11-03 18:47:14.429 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: async_update
2025-11-03 18:47:14.430 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Reading attributes in chunks: ['current_summ_delivered']
2025-11-03 18:47:14.431 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2025-11-03 18:47:14.434 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request header: ZCLHeader(frame_control=FrameControl<0x00>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Client_to_Server: 0>, disable_default_response=0, reserved=0, *is_cluster=False, *is_general=True), tsn=51, command_id=<GeneralCommand.Read_Attributes: 0>, *direction=<Direction.Client_to_Server: 0>)
2025-11-03 18:47:14.438 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Sending request: Read_Attributes(attribute_ids=[0])
2025-11-03 18:47:14.442 DEBUG (MainThread) [zigpy.device] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:47:14.444 DEBUG (MainThread) [zigpy_znp.zigbee.application] Sending packet ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 14, 444398, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), dst_ep=1, source_route=None, extended_timeout=False, tsn=51, profile_id=260, cluster_id=1794, data=Serialized[b'\x003\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=0, non_member_radius=0, lqi=None, rssi=None)
2025-11-03 18:47:14.445 DEBUG (MainThread) [zigpy.application] Critical priority request received (2), skipping queue with 0 requests
2025-11-03 18:47:14.451 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[1]
2025-11-03 18:47:14.452 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:14.453 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[22]
2025-11-03 18:47:14.453 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=22, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:14.454 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[244]
2025-11-03 18:47:14.454 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=244, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:14.456 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 1, 'rms_current': 22, 'rms_voltage': 244}
2025-11-03 18:47:14.459 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:47:14.460 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=50)
2025-11-03 18:47:14.468 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x4252), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1794, TSN=51, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=0, Data=b'\x00\x33\x00\x00\x00')
2025-11-03 18:47:14.482 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=2820, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=132, SecurityUse=<Bool.false: 0>, TimeStamp=2929102, TSN=0, Data=b'\x18\x32\x01\x0B\x05\x00\x21\x01\x00\x08\x05\x00\x21\x16\x00\x05\x05\x00\x21\xF4\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:47:14.491 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 14, 491745, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=2820, data=Serialized[b'\x182\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=132, rssi=None)
2025-11-03 18:47:14.495 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Received ZCL frame: b'\x182\x01\x0b\x05\x00!\x01\x00\x08\x05\x00!\x16\x00\x05\x05\x00!\xf4\x00'
2025-11-03 18:47:14.499 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=50, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:47:14.505 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0b04] Decoded ZCL frame: TuyaZBElectricalMeasurement:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=1291, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=1)), ReadAttributeRecord(attrid=1288, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=22)), ReadAttributeRecord(attrid=1285, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint16_t, value=244))])
2025-11-03 18:47:14.508 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2025-11-03 18:47:14.509 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=51)
2025-11-03 18:47:14.511 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[active_power] value[1]
2025-11-03 18:47:14.512 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1291, attribute_name='active_power', attribute_value=1, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:14.514 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_current] value[22]
2025-11-03 18:47:14.515 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1288, attribute_name='rms_current', attribute_value=22, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:14.516 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: cluster_handler[electrical_measurement] attribute_updated - cluster[Electrical Measurement] attr[rms_voltage] value[244]
2025-11-03 18:47:14.516 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=1285, attribute_name='rms_voltage', attribute_value=244, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0b04', cluster_id=2820, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (3 listeners)
2025-11-03 18:47:14.517 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0b04]: Got attributes: {'active_power': 1, 'rms_current': 22, 'rms_voltage': 244}
2025-11-03 18:47:14.536 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1794, SrcAddr=0x4252, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=2932037, TSN=0, Data=b'\x18\x33\x01\x00\x00\x00\x25\x79\x00\x00\x00\x00\x00', MacSrcAddr=0x4252, MsgResultRadius=29)
2025-11-03 18:47:14.538 DEBUG (MainThread) [zigpy.application] Received a packet: ZigbeePacket(timestamp=datetime.datetime(2025, 11, 3, 18, 47, 14, 538276, tzinfo=datetime.timezone.utc), priority=None, src=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x4252), src_ep=1, dst=AddrModeAddress(addr_mode=<AddrMode.NWK: 2>, address=0x0000), dst_ep=1, source_route=None, extended_timeout=False, tsn=0, profile_id=260, cluster_id=1794, data=Serialized[b'\x183\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'], tx_options=<TransmitOptions.NONE: 0>, radius=29, non_member_radius=0, lqi=129, rssi=None)
2025-11-03 18:47:14.542 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Received ZCL frame: b'\x183\x01\x00\x00\x00%y\x00\x00\x00\x00\x00'
2025-11-03 18:47:14.545 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame header: ZCLHeader(frame_control=FrameControl<0x18>(frame_type=<FrameType.GLOBAL_COMMAND: 0>, is_manufacturer_specific=0, direction=<Direction.Server_to_Client: 1>, disable_default_response=1, reserved=0, *is_cluster=False, *is_general=True), tsn=51, command_id=1, *direction=<Direction.Server_to_Client: 1>)
2025-11-03 18:47:14.550 DEBUG (MainThread) [zigpy.zcl] [0x4252:1:0x0702] Decoded ZCL frame: TuyaZBMeteringClusterWithUnit:Read_Attributes_rsp(status_records=[ReadAttributeRecord(attrid=0, status=<Status.SUCCESS: 0>, value=TypeValue(type=uint48_t, value=121))])
2025-11-03 18:47:14.553 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: cluster_handler[smartenergy_metering] attribute_updated - cluster[TuyaZBMeteringClusterWithUnit] attr[current_summ_delivered] value[121]
2025-11-03 18:47:14.554 DEBUG (MainThread) [zha] Emitting event cluster_handler_attribute_updated with data ClusterAttributeUpdatedEvent(attribute_id=0, attribute_name='current_summ_delivered', attribute_value=121, cluster_handler_unique_id='70:b3:d5:2b:60:05:9b:d5:1:0x0702', cluster_id=1794, event_type='cluster_handler_event', event='cluster_handler_attribute_updated') (1 listeners)
2025-11-03 18:47:14.555 DEBUG (MainThread) [zha.zigbee.cluster_handlers] [0x4252:1:0x0702]: Got attributes: {'current_summ_delivered': 121}
2025-11-03 18:47:15.312 DEBUG (MainThread) [zigpy.application] Feeding watchdog
2025-11-03 18:47:15.314 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2025-11-03 18:47:15.322 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.SYS|AF|ZDO|UTIL|GP|APP_CNF: 1625>)
2025-11-03 18:47:20.887 DEBUG (MainThread) [zha.decorators] [<Task pending name='global-updater_GlobalUpdater' coro=<periodic.<locals>.scheduler.<locals>.wrapper() running at /usr/local/lib/python3.13/site-packages/zha/decorators.py:78> cb=[set.remove()]>] executing periodic task [zha.application.helpers::GlobalUpdater.update_listeners]
2025-11-03 18:47:20.888 DEBUG (MainThread) [zha.application.helpers] Global updater interval starting
2025-11-03 18:47:20.889 DEBUG (MainThread) [zha.application.helpers] Global updater interval finished
2025-11-03 18:49:41.987 WARNING (MainThread) [homeassistant.util.loop] Detected blocking call to load_default_certs with args (<ssl.SSLContext object at 0xffff8158ef30>, <Purpose.SERVER_AUTH: _ASN1Object(nid=129, shortname='serverAuth', longname='TLS Web Server Authentication', oid='1.3.6.1.5.5.7.3.1')>) inside the event loop by integration 'freebox' at homeassistant/components/freebox/config_flow.py, line 68: await fbx.open(self._data[CONF_HOST], self._data[CONF_PORT]) (offender: /usr/local/lib/python3.13/ssl.py, line 722: context.load_default_certs(purpose)), please create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+freebox%22
For developers, please see https://developers.home-assistant.io/docs/asyncio_blocking_operations/#load_default_certs
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 229, in <module>
    sys.exit(main())
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 215, in main
    exit_code = runner.run(runtime_conf)
  File "/usr/src/homeassistant/homeassistant/runner.py", line 271, in run
    return loop.run_until_complete(setup_and_run_hass(runtime_config))
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
  File "/usr/local/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_protocol.py", line 510, in _handle_request
    resp = await request_handler(request)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_app.py", line 569, in _handle
    return await handler(request)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_middlewares.py", line 117, in impl
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/security_filter.py", line 92, in security_filter_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/forwarded.py", line 83, in forwarded_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/request_context.py", line 26, in request_context_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/ban.py", line 86, in ban_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/auth.py", line 242, in auth_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/headers.py", line 41, in headers_middleware
    response = await handler(request)
  File "/usr/src/homeassistant/homeassistant/helpers/http.py", line 73, in handle
    result = await handler(request, **request.match_info)
  File "/usr/src/homeassistant/homeassistant/components/http/decorators.py", line 83, in with_admin
    return await func(self, request, *args, **kwargs)
  File "/usr/src/homeassistant/homeassistant/components/config/config_entries.py", line 225, in post
    return await super().post(request, flow_id)
  File "/usr/src/homeassistant/homeassistant/components/http/data_validator.py", line 74, in wrapper
    return await method(view, request, data, *args, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py", line 121, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 346, in async_configure
    result = await self._async_configure(flow_id, user_input)
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 393, in _async_configure
    result = await self._async_handle_step(
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 497, in _async_handle_step
    result: _FlowResultT = await getattr(flow, method)(user_input)
  File "/usr/src/homeassistant/homeassistant/components/freebox/config_flow.py", line 68, in async_step_link
    await fbx.open(self._data[CONF_HOST], self._data[CONF_PORT])

2025-11-03 18:49:42.021 WARNING (MainThread) [homeassistant.util.loop] Detected blocking call to set_default_verify_paths with args (<ssl.SSLContext object at 0xffff8158ef30>,) inside the event loop by integration 'freebox' at homeassistant/components/freebox/config_flow.py, line 68: await fbx.open(self._data[CONF_HOST], self._data[CONF_PORT]) (offender: /usr/local/lib/python3.13/ssl.py, line 534: self.set_default_verify_paths()), please create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+freebox%22
For developers, please see https://developers.home-assistant.io/docs/asyncio_blocking_operations/#set_default_verify_paths
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 229, in <module>
    sys.exit(main())
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 215, in main
    exit_code = runner.run(runtime_conf)
  File "/usr/src/homeassistant/homeassistant/runner.py", line 271, in run
    return loop.run_until_complete(setup_and_run_hass(runtime_config))
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
  File "/usr/local/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_protocol.py", line 510, in _handle_request
    resp = await request_handler(request)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_app.py", line 569, in _handle
    return await handler(request)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_middlewares.py", line 117, in impl
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/security_filter.py", line 92, in security_filter_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/forwarded.py", line 83, in forwarded_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/request_context.py", line 26, in request_context_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/ban.py", line 86, in ban_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/auth.py", line 242, in auth_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/headers.py", line 41, in headers_middleware
    response = await handler(request)
  File "/usr/src/homeassistant/homeassistant/helpers/http.py", line 73, in handle
    result = await handler(request, **request.match_info)
  File "/usr/src/homeassistant/homeassistant/components/http/decorators.py", line 83, in with_admin
    return await func(self, request, *args, **kwargs)
  File "/usr/src/homeassistant/homeassistant/components/config/config_entries.py", line 225, in post
    return await super().post(request, flow_id)
  File "/usr/src/homeassistant/homeassistant/components/http/data_validator.py", line 74, in wrapper
    return await method(view, request, data, *args, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py", line 121, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 346, in async_configure
    result = await self._async_configure(flow_id, user_input)
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 393, in _async_configure
    result = await self._async_handle_step(
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 497, in _async_handle_step
    result: _FlowResultT = await getattr(flow, method)(user_input)
  File "/usr/src/homeassistant/homeassistant/components/freebox/config_flow.py", line 68, in async_step_link
    await fbx.open(self._data[CONF_HOST], self._data[CONF_PORT])

2025-11-03 18:49:42.215 WARNING (MainThread) [homeassistant.util.loop] Detected blocking call to load_verify_locations with args (<ssl.SSLContext object at 0xffff8158ef30>,) inside the event loop by integration 'freebox' at homeassistant/components/freebox/config_flow.py, line 68: await fbx.open(self._data[CONF_HOST], self._data[CONF_PORT]) (offender: /usr/local/lib/python3.13/site-packages/freebox_api/aiofreepybox.py, line 124: ssl_ctx.load_verify_locations(cafile=cert_path)), please create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+freebox%22
For developers, please see https://developers.home-assistant.io/docs/asyncio_blocking_operations/#load_verify_locations
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 229, in <module>
    sys.exit(main())
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 215, in main
    exit_code = runner.run(runtime_conf)
  File "/usr/src/homeassistant/homeassistant/runner.py", line 271, in run
    return loop.run_until_complete(setup_and_run_hass(runtime_config))
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
  File "/usr/local/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_protocol.py", line 510, in _handle_request
    resp = await request_handler(request)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_app.py", line 569, in _handle
    return await handler(request)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_middlewares.py", line 117, in impl
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/security_filter.py", line 92, in security_filter_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/forwarded.py", line 83, in forwarded_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/request_context.py", line 26, in request_context_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/ban.py", line 86, in ban_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/auth.py", line 242, in auth_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/headers.py", line 41, in headers_middleware
    response = await handler(request)
  File "/usr/src/homeassistant/homeassistant/helpers/http.py", line 73, in handle
    result = await handler(request, **request.match_info)
  File "/usr/src/homeassistant/homeassistant/components/http/decorators.py", line 83, in with_admin
    return await func(self, request, *args, **kwargs)
  File "/usr/src/homeassistant/homeassistant/components/config/config_entries.py", line 225, in post
    return await super().post(request, flow_id)
  File "/usr/src/homeassistant/homeassistant/components/http/data_validator.py", line 74, in wrapper
    return await method(view, request, data, *args, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py", line 121, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 346, in async_configure
    result = await self._async_configure(flow_id, user_input)
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 393, in _async_configure
    result = await self._async_handle_step(
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 497, in _async_handle_step
    result: _FlowResultT = await getattr(flow, method)(user_input)
  File "/usr/src/homeassistant/homeassistant/components/freebox/config_flow.py", line 68, in async_step_link
    await fbx.open(self._data[CONF_HOST], self._data[CONF_PORT])

2025-11-03 18:49:42.257 WARNING (MainThread) [homeassistant.util.loop] Detected blocking call to open with args (PosixPath('/config/.storage/freebox/66lt2940_fbxos_fr.conf'), 'r') inside the event loop by integration 'freebox' at homeassistant/components/freebox/config_flow.py, line 68: await fbx.open(self._data[CONF_HOST], self._data[CONF_PORT]) (offender: /usr/local/lib/python3.13/site-packages/freebox_api/aiofreepybox.py, line 328: with open(token_file, "r") as f:), please create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+freebox%22
For developers, please see https://developers.home-assistant.io/docs/asyncio_blocking_operations/#open
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 229, in <module>
    sys.exit(main())
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 215, in main
    exit_code = runner.run(runtime_conf)
  File "/usr/src/homeassistant/homeassistant/runner.py", line 271, in run
    return loop.run_until_complete(setup_and_run_hass(runtime_config))
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
  File "/usr/local/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_protocol.py", line 510, in _handle_request
    resp = await request_handler(request)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_app.py", line 569, in _handle
    return await handler(request)
  File "/usr/local/lib/python3.13/site-packages/aiohttp/web_middlewares.py", line 117, in impl
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/security_filter.py", line 92, in security_filter_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/forwarded.py", line 83, in forwarded_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/request_context.py", line 26, in request_context_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/ban.py", line 86, in ban_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/auth.py", line 242, in auth_middleware
    return await handler(request)
  File "/usr/src/homeassistant/homeassistant/components/http/headers.py", line 41, in headers_middleware
    response = await handler(request)
  File "/usr/src/homeassistant/homeassistant/helpers/http.py", line 73, in handle
    result = await handler(request, **request.match_info)
  File "/usr/src/homeassistant/homeassistant/components/http/decorators.py", line 83, in with_admin
    return await func(self, request, *args, **kwargs)
  File "/usr/src/homeassistant/homeassistant/components/config/config_entries.py", line 225, in post
    return await super().post(request, flow_id)
  File "/usr/src/homeassistant/homeassistant/components/http/data_validator.py", line 74, in wrapper
    return await method(view, request, data, *args, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py", line 121, in post
    result = await self._flow_mgr.async_configure(flow_id, data)
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 346, in async_configure
    result = await self._async_configure(flow_id, user_input)
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 393, in _async_configure
    result = await self._async_handle_step(
  File "/usr/src/homeassistant/homeassistant/data_entry_flow.py", line 497, in _async_handle_step
    result: _FlowResultT = await getattr(flow, method)(user_input)
  File "/usr/src/homeassistant/homeassistant/components/freebox/config_flow.py", line 68, in async_step_link
    await fbx.open(self._data[CONF_HOST], self._data[CONF_PORT])

2025-11-03 18:51:12.833 ERROR (MainThread) [homeassistant.components.freebox.config_flow] Authorization timed out
2025-11-03 18:51:12.835 ERROR (MainThread) [homeassistant] Error doing job: Unclosed client session (None)
2025-11-03 18:51:12.840 ERROR (MainThread) [homeassistant] Error doing job: Unclosed connector (None)
